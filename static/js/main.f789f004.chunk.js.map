{"version":3,"sources":["items/ProductTemplates/default/menu.js","items/ProductTemplates/default/settings.js","items/ProductTemplates/default/options.js","items/ProductTemplates/core.js","axios.js","items/Categories/New/index.js","items/Categories/Delete/index.js","items/Categories/Delete/DeleteTemplate.js","items/Categories/Search/index.js","items/Categories/New/RootCategory.js","items/Categories/Categories.js","items/ProductTemplates/rjsf-patch/ArrayField.jsx","items/ProductTemplates/rjsf-patch/BooleanField.jsx","items/ProductTemplates/rjsf-patch/StringField.jsx","items/ProductTemplates/rjsf-patch/SchemaField.jsx","items/ProductTemplates/rjsf-patch/utils.js","items/ProductTemplates/rjsf-patch/Form.jsx","items/ProductTemplates/Template/Template.jsx","items/ProductTemplates/InlineEditor.jsx","items/ProductTemplates/Template/connectors.jsx","items/ProductTemplates/Template/index.jsx","items/ProductTemplates/views/FormView.jsx","items/ProductTemplates/JsonEditor.jsx","items/ProductTemplates/views/SchemaView.jsx","items/ProductTemplates/views/UiSchemaView.jsx","items/ProductTemplates/views/FormDataView.jsx","items/Products/index.js","items/ProductTemplates/Tree/Menu.jsx","items/ProductTemplates/Tree/TreeNodeTitle.jsx","items/ProductTemplates/Tree/Tree.jsx","items/ProductTemplates/Tree/index.js","items/ProductTemplates/Editor/JsonEditor.jsx","items/ProductTemplates/Editor/BasicEditor.jsx","items/ProductTemplates/Editor/index.jsx","items/ProductTemplates/Toolbar.jsx","items/ProductTemplates/Settings.jsx","items/ProductTemplates/Templates.jsx","items/ProductTemplates/List/index.js","items/Products/List/ProductList.js","items/ProductTemplates/reducers.js","items/ProductTemplates/store.js","App.js","serviceWorker.js","index.js"],"names":["basic","schema","type","title","properties","object","text","checkbox","checkboxes","items","enum","uniqueItems","list","dropdown","enumNames","number","textarea","datetime","uiSchema","module","exports","leftSiderWidth","rightSiderWidth","formWidth","isInlineMode","subViews","categoryId","templateId","productId","categories","isEmptyObject","obj","i","undefined","isLeaf","node","schema2tree","name","schema2node","FORCE_CHANGE_KEY","forceChange","Date","now","process","e","path","key","join","length","children","child","push","Array","isArray","nextPath","map","a","toString","additionalItems","getNodeByPath","tree","find","getNode","split","updateParentKey","parentKey","Object","assign","getNodeParentKey","substring","updateNodeParentKeyAndName","newKey","toUpperCase","slice","updateNodeByNewChildren","oldNode","newChildren","newSchema","newProperties","newItemsNode","newAdditionalItemsNode","updateSchema","newUiSchema","startsWith","empty","updateUiSchema","newNode","updateArrayIndex","_removeNodeByPath","head","tail","arrayItemsFlag","removed","newTree","filter","required","newRequired","removeNodeByPath","removeNode","notification","message","description","_addNodeByPath","position","node2Add","added","cn","newNodeChildren","console","log","addNodeByPath","addNode","targetKey","_moveNodeByPath","sh","st","th","tt","updated","node2move","tmpTree","moveNodeByPath","sourceNode","targetNode","moveNode","sourceKey","allowedUpdatedTypes","updateNodeByPath","nodeUpdate","_updateNodeByPath","includes","nu","typeUpdated","oldSchema","oldUiSchema","updateNode","getNodeByRjsfId","rjsfId","indexOf","index","isNaN","rest","n","instance","axios","create","baseURL","NewCategoryModal","visibility","setVisibility","saveNewCategory","useState","setName","visible","onOk","newName","onCancel","destroyOnClose","preserve","size","placeholder","onChange","target","value","defaultValue","DeleteCategoryModal","deleteCategory","DeleteTemplateModal","deleteTemplate","Search","selectPrevMatch","selectNextMatch","searchParams","inputChange","searchFocusIndex","searchString","searchFoundCount","style","display","width","onSubmit","event","preventDefault","id","disabled","onClick","NewRootCategory","Categories","props","state","api","delete","template_id","status","forEach","cat","_id","setState","deleteTemplateModalVisibility","bool","ModalVisiblity","newCategory","saveToBackend","bind","newModalVisibility","deleteFromBackend","deleteModalVisibility","getKey","getParentKey","parent_id","get","data","splice","getTreeFromFlatData","flatData","rootKey","this","setOptions","options","post","then","resp","catch","getNodeKey","treeIndex","concat","addNodeUnderParent","treeData","expandParent","addAsFirstChild","removeNodeAtPath","className","canDrag","generateNodeProps","buttons","href","products","searchMethod","searchQuery","toLowerCase","onlyExpandSearchedNodes","searchFocusOffset","searchFinishCallback","matches","active","New","Delete","DeleteTemplate","Component","connect","dispatch","payload","ArrayFieldPatched","idSchema","formData","readonly","autofocus","onBlur","onFocus","registry","getDefaultRegistry","rawErrors","widgets","definitions","formContext","itemsSchema","retrieveSchema","enumOptions","optionsList","getUiOptions","widget","Widget","getWidget","$id","multiple","onSelectChange","ArrayField","BooleanField","fields","oneOf","option","const","label","DescriptionField","defaultProps","StringField","format","isSelect","defaultWidget","hasWidget","PatchedSchemaField","error","info","duration","SchemaField","Error","msg","showIcon","_getWidget","TitleField","require","default","FormPatch","ArrayFieldTemplate","ObjectFieldTemplate","FieldTemplate","Form","Label","htmlFor","InlineEditor","onCompleteEditing","editing","newValue","trim","onStartEditing","stopPropagation","input","focus","onCancelEditing","nextProps","ref","r","onKeyUp","keyCode","EditOutlined","renderEditing","renderView","TextArea","Input","ACTIVE_STYLE","backgroundColor","ExtendedInlineEditor","InlineTextAreaEditor","autoSize","ButtonGroup","select","remove","placement","SelectOutlined","onConfirm","DeleteOutlined","classNames","errors","help","hidden","displayLabel","present","activeNodeKey","settings","updateTitle","updateDescription","updateHelp","labelElement","descriptionElement","helpElement","_label","_description","_help","prop","content","titleElement","_title","FormView","setFormData","liveValidate","idPrefix","React","isLiveValidate","JsonEditor","JSON","parse","string","onClickPrettify","stringify","objA","objB","hasOwnProperty","shallowEqual","nextState","errorMessage","matched","exec","textAreaRef","selectionStart","selectionEnd","renderErrorMessage","setTree","json2schema","charAt","name2title","Number","isInteger","s","genForm","Products","submitHandler","body","category_id","patch","query","URLSearchParams","location","search","image","template","updateSettings","formSchema","Card","variant","raised","SubMenu","Menu","Item","nameGen","occupied","AddItemMenu","onAddNode","node2add","menuTree","menu","menuOpenKeys","menuOpenChange","mode","theme","openKeys","onOpenChange","b","targetNodeKey","keys","TreeNodeTitle","updateNodeName","searchValue","isRoot","indexBefore","indexAfter","color","trigger","overlay","PlusCircleOutlined","thisKey","okText","cancelText","CloseCircleFilled","PureComponent","TreeNode","Tree","Demo","onDrop","dropKey","eventKey","dragKey","dragNode","dropPos","pos","dropPosition","onExpand","expandedKeys","newSearchExpanded","loop","item","parents","searchExpanded","setActiveNode","selectedKeys","draggable","onDragEnter","onSelect","selected","blockNode","source","selectedKey","updateNodeTitle","updateMode","NodeJsonEditor","schemaJsonString","uiSchemaJsonString","rschema","Option","Select","FormItemTemplate","actions","shape","icon","CloseOutlined","Meta","TimeThrottle","throttle","timer","clearTimeout","setTimeout","onSubmitValue","onRemove","TimeThrottleInput","TimeThrottleTextArea","TimeThrottleRange","min","max","textAlign","borderLeft","pointerEvents","lodash","boolean","radio","password","uri","date","file","updown","range","integer","array","files","toPairs","flatMap","groupBy","t","types","update","availableTypes","ClassNamesEditor","colSizes","onSliderChange","col","found","newClassNames","perfix","v","Set","cols","extractCol","newOptions","align","xs","renderMenu","CaretDownOutlined","sliderValue","tokenSeparators","updateUiOptions","availableWidgets","f","showSearch","pattern","rangeMeta","match","minp","maxp","itemRange","defaultChecked","values","enumKey","enumName","formatOptions","BasicEditor","l","addable","editable","PlusOutlined","itemLayout","dataSource","renderItem","TabPane","Tabs","editorList","Editor","uiOptionsUpdate","uiOptions","newUiOptions","filteredEditors","defaultActiveKey","tab","margin","schemaUpdate","uiSchemaUpdate","buttonStyle","marginLeft","Toolbar","newTemplate","save","response","open","showTemplates","category","handleOk","renderThisTemplate","templates","thisTemplate","existingTemplate","templateProperties","undo","redo","past","future","FolderOpenOutlined","Modal","confirm","SaveOutlined","UndoOutlined","RedoOutlined","footer","bordered","newForm","ActionTypes","UNDO","REDO","tipFormatter","flag","window","innerWidth","Settings","included","left","right","checked","rootNode","setMenu","sytle","okType","closable","maskClosable","localStorage","removeItem","reload","siderWidth","inlineMode","reset","List","listItems","Header","Layout","Sider","Content","NewTemplate","collapsed","toggle","defaultMenu","collapsible","background","padding","overflow","boxShadow","height","minHeight","verticalAlign","setData","tableColumns","setColumns","fetching","setFetch","useEffect","el","dataIndex","fixed","render","columns","ProductList","dataFetching","names","prod","product","updates","meta","price","created_at","updated_at","filters","defaultSortOrder","sorter","defaultMenuSchema","emptyTree","accuracy","limit","reducer","combineReducers","action","newState","history","removeUnnecessaryHistory","undoable","includeAction","defaultSettings","defaultOptions","persistConfig","storage","stateReconciler","hardSet","initTree","persistedReducer","persistReducer","store","createStore","persistor","persistStore","App","handleClick","current","pathname","secondslash","UnorderedListOutlined","to","ContainerOutlined","DatabaseFilled","exact","component","AppContainer","loading","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f789f004.chunk.js","sourcesContent":["const basic = {\n  schema: {\n    type: 'object',\n    title: 'Basic',\n    properties: {\n      object: { type: 'object', title: 'Object', properties: {} },\n      text: { type: 'string', title: 'Text' },\n      checkbox: { type: 'boolean', title: 'Checkbox' },\n      checkboxes: {\n        type: 'array',\n        title: 'Check Boxes',\n        items: {\n          type: 'string',\n          enum: ['option-1', 'option-2', 'option-3'],\n        },\n        uniqueItems: true,\n      },\n      list: {\n        type: 'array', \n        title: 'List', \n        items: {\n          type: 'string'\n        }\n      },\n      dropdown: {\n        type: 'string',\n        title: 'Dropdown',\n        enum: ['option-1', 'option-2', 'option-3'],\n        enumNames: ['Option 1', 'Option 2', 'Option 3'],\n      },\n      number: { type: 'number', title: 'Number' },\n      textarea: { type: 'string', title: 'Text Area' },\n      datetime: { type: 'string', title: 'Date Time' },\n    },\n  },\n  uiSchema: {\n    textarea: { 'ui:widget': 'textarea' },\n    datetime: { 'ui:widget': 'datetime' },\n    checkboxes: {\n      'ui:widget': 'checkboxes',\n    },\n  },\n};\n\nmodule.exports = {\n  schema: {\n    type: 'object',\n    properties: {\n      basic: basic.schema,\n    },\n  },\n  uiSchema: {\n    basic: basic.uiSchema,\n  },\n};\n","module.exports = {\n  leftSiderWidth: 300,\n  rightSiderWidth: 360,\n  formWidth: 600,\n  isInlineMode: true,\n  subViews: ['schema', 'uiSchema', 'formData'],\n};\n","const options = {\n    categoryId: null,\n    templateId: null,\n    productId: null,\n    categories: []\n};\n\nmodule.exports = options;","import { notification } from 'antd';\n\nfunction isEmptyObject(obj) {\n  if (!obj) return true;\n  for (const i in obj) {\n    if (obj[i] !== undefined) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction isLeaf(node) {\n  return node.isLeaf;\n}\n\nfunction schema2tree(name, schema, uiSchema) {\n  return [schema2node([name], schema, uiSchema)];\n}\n\nlet forceChange = ((FORCE_CHANGE_KEY) => (obj) => {\n  // workaround for forcing rjsf to rerender because the schema still deep equal to after reordering properties.\n  if (FORCE_CHANGE_KEY in obj) {\n    delete obj[FORCE_CHANGE_KEY];\n  } else {\n    obj[FORCE_CHANGE_KEY] = undefined;\n  }\n})(`__${Date.now()}__`);\n\ntry {\n  if (process.env.NODE_ENV === 'test') {\n    forceChange = (a) => a;\n  }\n} catch (e) {}\n\nfunction schema2node(path, schema, uiSchema) {\n  if (!schema) return null;\n  const key = path.join('.');\n  const name = path[path.length - 1];\n  if (schema.type === 'object') {\n    let children = [];\n    for (const i in schema.properties) {\n      const nextPath = [...path, i];\n      const child = schema2node(nextPath, schema.properties[i], uiSchema && uiSchema[i]);\n      if (child) children.push(child);\n    }\n    return {\n      key,\n      name,\n      //path,\n      schema,\n      uiSchema,\n      children,\n    };\n  }\n  if (schema.type === 'array') {\n    let children;\n    if (Array.isArray(schema.items)) {\n      const nextPath = [...path, '[items]'];\n      children = [\n        {\n          key: key + '.[items]',\n          name: '[items]',\n          //path: nextPath,\n          children: schema.items.map((a, i) =>\n            schema2node([...nextPath, i.toString()], schema.items[i], uiSchema && uiSchema.items && uiSchema.items[i])\n          ),\n        },\n      ];\n      if ('additionalItems' in schema) {\n        const nextPath = [...path, 'additionalItems'];\n        children.push(schema2node(nextPath, schema.additionalItems, uiSchema && uiSchema.additionalItems));\n      }\n    } else {\n      children = [schema2node([...path, 'items'], schema.items, uiSchema && uiSchema.items)];\n    }\n\n    return {\n      key,\n      name,\n      schema,\n      uiSchema,\n      children,\n      //path,\n    };\n  }\n  return {\n    key,\n    name,\n    //path,\n    schema,\n    uiSchema,\n    isLeaf: true,\n  };\n}\n\nfunction getNodeByPath(tree, path) {\n  let node;\n  let children = tree;\n  for (const i of path) {\n    node = children.find((a) => a.name === i);\n    if (!node) return null;\n    children = node.children;\n  }\n  return node;\n}\n\nfunction getNode(tree, key) {\n  return getNodeByPath(tree, key.split('.'));\n}\n\nfunction updateParentKey(tree, parentKey) {\n  return tree.map((node) => {\n    const key = parentKey + '.' + node.name;\n    return Object.assign(\n      {},\n      node,\n      {\n        key: parentKey + '.' + node.name,\n      },\n      node.children && {\n        children: updateParentKey(node.children, key),\n      }\n    );\n  });\n}\n\nfunction getNodeParentKey(node) {\n  return node.key.substring(0, node.key.length - node.name.length - 1);\n}\n\nfunction updateNodeParentKeyAndName(node, parentKey, name) {\n  if (!name) {\n    name = node.name;\n  }\n  if (!parentKey) {\n    parentKey = getNodeParentKey(node);\n  }\n  const newKey = parentKey ? parentKey + '.' + name : name;\n  if (node.key === newKey) return node;\n  node.schema.title = name[0].toUpperCase() + name.slice(1, name.length);\n  return Object.assign(\n    {},\n    node,\n    {\n      name,\n      key: newKey,\n    },\n    node.children && {\n      children: updateParentKey(node.children, newKey),\n    }\n  );\n}\n\nfunction updateSchema(node, newChildren) {\n  let newSchema = Object.assign({}, node.schema);\n  if (node.schema.type === 'object') {\n    let newProperties = {};\n    for (const child of newChildren) {\n      newProperties[child.name] = child.schema;\n    }\n    newSchema.properties = newProperties;\n  } else if (node.schema.type === 'array') {\n    if (Array.isArray(node.schema.items)) {\n      // items is array\n      newSchema = Object.assign({}, node.schema);\n      const newItemsNode = newChildren.find((a) => a.name === '[items]');\n      const oldItemsNode = node.children.find((a) => a.name === '[items]');\n      if (newItemsNode !== oldItemsNode) {\n        // items field updated\n        if (newItemsNode) {\n          newSchema.items = newItemsNode.children.map((a) => a.schema);\n        } else {\n          delete newSchema.items;\n        }\n      } else {\n        // additionalItems field updated\n        const newAdditionalItemsNode = newChildren.find((a) => a.name === 'additionalItems');\n        if (newAdditionalItemsNode) {\n          newSchema.additionalItems = newAdditionalItemsNode.schema;\n        } else {\n          delete newSchema.additionalItems;\n        }\n      }\n    } else {\n      // items is not array\n      const newItemsNode = newChildren.find((a) => a.name === 'items');\n      if (newItemsNode) {\n        newSchema.items = newItemsNode.schema;\n      } else {\n        delete newSchema.items;\n      }\n    }\n  }\n  return newSchema;\n}\n\nfunction updateUiSchema(node, newChildren) {\n  let newUiSchema = {};\n  for (const i in node.uiSchema) {\n    if (i.startsWith('ui:') || i === 'classNames') {\n      newUiSchema[i] = node.uiSchema[i];\n    }\n  }\n  if (node.schema.type === 'object') {\n    for (const child of newChildren) {\n      if (child.uiSchema) {\n        newUiSchema[child.name] = child.uiSchema;\n      }\n    }\n  } else if (node.schema.type === 'array') {\n    if (Array.isArray(node.schema.items)) {\n      // items is array\n      const newItemsNode = newChildren.find((a) => a.name === '[items]');\n      const oldItemsNode = node.children.find((a) => a.name === '[items]');\n      if (newItemsNode !== oldItemsNode) {\n        // items field updated\n        if (newItemsNode) {\n          let empty = true;\n          newUiSchema.items = newItemsNode.children.map((a) => {\n            empty = empty && !a.uiSchema;\n            return a.uiSchema || null;\n          });\n          if (empty) {\n            delete newUiSchema.items;\n          }\n        }\n        if ('additionalItems' in node.uiSchema) {\n          newUiSchema.additionalItems = node.uiSchema.additionalItems;\n        }\n      } else {\n        // additionalItems field updated\n        if ('items' in node.uiSchema) {\n          newUiSchema.items = node.uiSchema.items;\n        }\n        const newAdditionalItemsNode = newChildren.find((a) => a.name === 'additionalItems');\n        if (newAdditionalItemsNode) {\n          newUiSchema.additionalItems = newItemsNode.children.map((a) => a.schema);\n        }\n      }\n    } else {\n      // items is not array\n      const newItemsNode = newChildren.find((a) => a.name === 'items');\n      if (newItemsNode && newItemsNode.uiSchema) {\n        newUiSchema.items = newItemsNode.uiSchema;\n      }\n    }\n  }\n  return newUiSchema;\n}\n\nfunction updateNodeByNewChildren(oldNode, newChildren) {\n  if (!oldNode.schema) {\n    return { ...oldNode, children: newChildren };\n  }\n  const schema = updateSchema(oldNode, newChildren);\n  const uiSchema = updateUiSchema(oldNode, newChildren);\n  const newNode = Object.assign({}, oldNode, {\n    schema,\n    uiSchema,\n    children: newChildren,\n  });\n  if (isEmptyObject(uiSchema)) {\n    delete newNode.uiSchema;\n  }\n  return newNode;\n}\n\nfunction updateArrayIndex(tree) {\n  return tree.map((node, i) =>\n    node.name === i.toString() ? node : updateNodeParentKeyAndName(node, null, i.toString())\n  );\n}\n\nfunction _removeNodeByPath(tree, [head, ...tail], arrayItemsFlag = 0) {\n  if (!head && head !== 0) {\n    return tree;\n  }\n  let removed = false;\n  let newTree = [];\n  if (!tail.length) {\n    let newTree = tree.filter((a) => a.name !== head);\n    if (arrayItemsFlag === 2) {\n      newTree = updateArrayIndex(newTree);\n    }\n    return newTree.length === tree.length ? tree : newTree;\n  }\n  for (const node of tree) {\n    if (node.name !== head) {\n      newTree.push(node);\n      continue;\n    }\n    if (node.schema && node.schema.type === 'array' && Array.isArray(node.schema.items)) {\n      arrayItemsFlag = 1;\n    } else if (arrayItemsFlag === 1 && head === '[items]') {\n      arrayItemsFlag = 2;\n    } else {\n      arrayItemsFlag = 0;\n    }\n    const newChildren = _removeNodeByPath(node.children, tail, arrayItemsFlag);\n    if (newChildren === node.children) {\n      // no change\n      return tree;\n    }\n    removed = true;\n    let newNode = updateNodeByNewChildren(node, newChildren);\n    let newSchema = null;\n    if (tail.length === 1 && (newSchema = newNode.schema) && newSchema.required) {\n      const newRequired = newSchema.required.filter((a) => a !== tail[0]);\n      if (newRequired.length !== newSchema.required.length) {\n        newNode.schema = Object.assign({}, newSchema, {\n          required: newRequired.length ? newRequired : undefined,\n        });\n      }\n    }\n    newTree.push(newNode);\n  }\n  return removed ? newTree : tree;\n}\n\nfunction removeNodeByPath(tree, path) {\n  return _removeNodeByPath(tree, path);\n}\n\nfunction removeNode(tree, key) {\n  if (key === `${tree[0].key}.name` || key === `${tree[0].key}.image`) {\n    // Antd modal error notification.\n    notification['error']({\n      message: 'Cannot delete basic fields!',\n      description: 'You cannot delete the basic fields required for templates.'\n    })\n    return tree;\n  }\n  return _removeNodeByPath(tree, key.split('.'));\n}\n\nfunction _addNodeByPath(tree, [head, ...tail], position, node2Add, arrayItemsFlag = 0) {\n  if (!head && head !== 0) {\n    return tree;\n  }\n  let added = false;\n  let newTree = [];\n  if (!tail.length) {\n    tree = tree || [];\n    let added = false;\n    for (const i in tree) {\n      const cn = tree[i];\n      if (cn.name !== head) {\n        newTree.push(cn);\n        continue;\n      }\n      added = true;\n      if (position < 0) {\n        if (!arrayItemsFlag && tree.find((a) => a.name === node2Add.name)) {\n          // name already exists;\n          return tree;\n        }\n        newTree.push(updateNodeParentKeyAndName(node2Add, getNodeParentKey(cn)));\n      }\n      if (position === 0) {\n        if (isLeaf(cn)) return tree;\n        if (!arrayItemsFlag && cn.children.find((a) => a.name === node2Add.name)) {\n          // name already exists;\n          return tree;\n        }\n\n        let newNodeChildren = [...(cn.children || []), updateNodeParentKeyAndName(node2Add, cn.key)];\n        if (arrayItemsFlag === 1) {\n          newNodeChildren = updateArrayIndex(newNodeChildren);\n        }\n        newTree.push(updateNodeByNewChildren(cn, newNodeChildren));\n      } else {\n        newTree.push(cn);\n      }\n      if (position > 0) {\n        if (!arrayItemsFlag && tree.find((a) => a.name === node2Add.name)) {\n          // name already exists;\n          return tree;\n        }\n        newTree.push(updateNodeParentKeyAndName(node2Add, getNodeParentKey(cn)));\n      }\n    }\n    if (!added) return tree;\n    if (arrayItemsFlag === 2) {\n      return updateArrayIndex(newTree);\n    }\n    return newTree;\n  }\n  for (const node of tree) {\n    if (node.name !== head) {\n      newTree.push(node);\n      continue;\n    }\n    if (node.schema && node.schema.type === 'array' && Array.isArray(node.schema.items)) {\n      arrayItemsFlag = 1;\n    } else if (arrayItemsFlag === 1 && head === '[items]') {\n      arrayItemsFlag = 2;\n    } else {\n      arrayItemsFlag = 0;\n    }\n    console.log(arrayItemsFlag);\n    const newChildren = _addNodeByPath(node.children, tail, position, node2Add, arrayItemsFlag);\n    if (newChildren === node.children) {\n      // no change\n      return tree;\n    }\n    added = true;\n    newTree.push(updateNodeByNewChildren(node, newChildren));\n  }\n  return added ? newTree : tree;\n}\n\nfunction addNodeByPath(tree, [head, ...tail], position, newNode) {\n  return _addNodeByPath(tree, [head, ...tail], position, newNode);\n}\n\nfunction addNode(tree, targetKey, position, newNode) {\n  return _addNodeByPath(tree, targetKey.split('.'), position, newNode);\n}\n\nfunction _moveNodeByPath(tree, [sh, ...st], [th, ...tt], position, arrayItemsFlag = 0) {\n  if (!sh) return tree;\n  if (sh === th && tt.length) {\n    let newTree = [];\n    let updated = false;\n    for (const node of tree) {\n      if (node.name !== sh) {\n        newTree.push(node);\n        continue;\n      }\n      if (isLeaf(node)) return tree;\n      if (node.schema && node.schema.type === 'array' && Array.isArray(node.schema.items)) {\n        arrayItemsFlag = 1;\n      } else if (arrayItemsFlag === 1 && sh === '[items]') {\n        arrayItemsFlag = 2;\n      } else {\n        arrayItemsFlag = 0;\n      }\n      const newChildren = _moveNodeByPath(node.children, st, tt, position, arrayItemsFlag);\n      if (newChildren === node.children) {\n        // no change\n        return tree;\n      }\n      updated = true;\n      if (tt.length === 1 && st.length === 1 && node.schema && node.schema.type === 'object') {\n        // reorder object properties\n        let properties = {};\n        for (const child of newChildren) {\n          properties[child.name] = child.schema;\n        }\n        let schema = Object.assign({}, node.schema, {\n          properties,\n        });\n        forceChange(schema);\n        newTree.push(\n          Object.assign({}, node, {\n            schema,\n            children: newChildren,\n          })\n        );\n      } else {\n        newTree.push(updateNodeByNewChildren(node, newChildren));\n      }\n    }\n    return updated ? newTree : tree;\n  }\n\n  if (!st.length && !tt.length) {\n    let newTree = [];\n    let updated = false;\n    const node2move = tree.find((a) => a.name === sh);\n    if (!node2move) return tree;\n    for (const i in tree) {\n      const cn = tree[i];\n      if (cn.name === sh) continue;\n      if (cn.name === th) {\n        updated = true;\n        if (position < 0) newTree.push(node2move);\n        if (position === 0) {\n          if (isLeaf(cn)) return tree;\n          let newNodeChildren = [...(cn.children || []), updateNodeParentKeyAndName(node2move, cn.key)];\n          if (arrayItemsFlag === 1) {\n            newNodeChildren = updateArrayIndex(newNodeChildren);\n          }\n          newTree.push(updateNodeByNewChildren(cn, newNodeChildren));\n        } else {\n          newTree.push(cn);\n        }\n        if (position > 0) newTree.push(node2move);\n      } else {\n        newTree.push(cn);\n      }\n    }\n    if (arrayItemsFlag === 2) {\n      newTree = updateArrayIndex(newTree);\n    }\n    return updated ? newTree : tree;\n  }\n\n  const node2move = getNodeByPath(tree, [sh, ...st]);\n  if (!node2move) return tree;\n  const tmpTree = _removeNodeByPath(tree, [sh, ...st], arrayItemsFlag);\n  const newTree = _addNodeByPath(tmpTree, [th, ...tt], position, node2move, arrayItemsFlag);\n  return newTree === tmpTree ? tree : newTree;\n}\n\nfunction moveNodeByPath(tree, sourceNode, targetNode, position) {\n  return _moveNodeByPath(tree, sourceNode, targetNode, position);\n}\nfunction moveNode(tree, sourceKey, targetKey, position) {\n  return _moveNodeByPath(tree, sourceKey.split('.'), targetKey.split('.'), position);\n}\n\nvar allowedUpdatedTypes = ['string', 'number', 'integer', 'boolean'];\n\nfunction _updateNodeByPath(tree, [head, ...tail], nodeUpdate) {\n  let newTree = [];\n  let updated = false;\n  for (const node of tree) {\n    if (node.name !== head) {\n      newTree.push(node);\n      continue;\n    }\n    let newNode = Object.assign({}, node);\n    if (!tail.length) {\n      const { schema, uiSchema, name } = nodeUpdate;\n      let nu = Object.assign({}, nodeUpdate);\n      delete nu.schema;\n      delete nu.uiSchema;\n      delete nu.name;\n      delete nu.children;\n      delete nu.key;\n      newNode = Object.assign(newNode, nu);\n      let typeUpdated = false;\n      if (schema) {\n        updated = true;\n        const oldSchema = node.schema;\n        let newSchema = Object.assign({}, schema);\n        if (!newSchema.type) {\n          newSchema.type = oldSchema.type;\n        } else {\n          if (newSchema.type !== oldSchema.type) {\n            if (allowedUpdatedTypes.includes(newSchema.type) && allowedUpdatedTypes.includes(oldSchema.type)) {\n              typeUpdated = true;\n              for (const i in newSchema) {\n                if (!['type', 'title', 'description'].includes(i)) {\n                  delete newSchema[i];\n                }\n              }\n            } else {\n              return tree;\n            }\n          }\n        }\n\n        if (newSchema.type === 'object') {\n          newSchema.properties = oldSchema.properties;\n        }\n        if (newSchema.type === 'array') {\n          newSchema.items = oldSchema.items;\n          newSchema.additionalItems = oldSchema.items;\n        }\n        newNode.schema = newSchema;\n      }\n      if (uiSchema) {\n        updated = true;\n        const oldUiSchema = node.uiSchema;\n        const newUiSchema = {};\n        for (const i in uiSchema) {\n          if (i.startsWith('ui:') || i === 'classNames') {\n            newUiSchema[i] = uiSchema[i];\n          }\n        }\n        if (typeUpdated) delete newUiSchema['ui:widget'];\n        for (const i in node.uiSchema) {\n          if (!(i.startsWith('ui:') || i === 'classNames')) {\n            newUiSchema[i] = oldUiSchema[i];\n          }\n        }\n        if (isEmptyObject(newUiSchema)) {\n          delete newNode.uiSchema;\n        } else {\n          newNode.uiSchema = newUiSchema;\n        }\n      }\n      if (name && name !== newNode.name) {\n        if (tree.find((a) => a.name === name)) return tree;\n        updated = true;\n        newNode = updateNodeParentKeyAndName(newNode, null, name);\n      }\n      newTree.push(newNode);\n    } else {\n      if (node.children) {\n        const newChildren = _updateNodeByPath(node.children, tail, nodeUpdate);\n        if (newChildren === node.children) {\n          return tree;\n        }\n        updated = true;\n        let newNode = updateNodeByNewChildren(node, newChildren);\n        // update required\n        let newSchema = null;\n        if (\n          tail.length === 1 &&\n          nodeUpdate.name &&\n          (newSchema = newNode.schema) &&\n          newSchema.required &&\n          newSchema.required.includes(tail[0])\n        ) {\n          newNode.schema = Object.assign({}, newSchema, {\n            required: newSchema.required.map((a) => (a === tail[0] ? nodeUpdate.name : a)),\n          });\n        }\n        newTree.push(newNode);\n      } else {\n        return tree;\n      }\n    }\n  }\n  return updated ? newTree : tree;\n}\n\nfunction updateNodeByPath(tree, path, nodeUpdate) {\n  return _updateNodeByPath(tree, path, nodeUpdate);\n}\n\nfunction updateNode(tree, targetKey, nodeUpdate) {\n  return updateNodeByPath(tree, targetKey.split('.'), nodeUpdate);\n}\n\nvar SEPERATOR = '_';\nfunction getNodeByRjsfId(tree, rjsfId) {\n  for (const node of tree) {\n    if (node && node.name === rjsfId) {\n      return node;\n    }\n    if (rjsfId.startsWith(node.name) && rjsfId[node.name.length] === SEPERATOR) {\n      if (node.schema.type === 'array') {\n        rjsfId = rjsfId.slice(node.name.length + 1);\n        const i = rjsfId.indexOf(SEPERATOR);\n        const index = i > 0 ? rjsfId.slice(0, i) : rjsfId;\n        if (isNaN(index)) return null;\n        const rest = i > 0 ? rjsfId.slice(i + 1) : null;\n        if (Array.isArray(node.schema.items)) {\n          if (+index < node.schema.items.length) {\n            let n = node.children.find((a) => a.name === '[items]');\n            n = n && n.children.find((a) => a.name === index);\n            return rest ? n && getNodeByRjsfId(n.children, rjsfId.slice(i + 1)) : n;\n          } else {\n            let n = node.children.find((a) => a.name === 'additionalItems');\n            return rest ? n && getNodeByRjsfId(n.children, rest) : n;\n          }\n        } else {\n          let n = node.children.find((a) => a.name === 'items');\n          return rest ? n && getNodeByRjsfId(n.children, rjsfId.slice(i + 1)) : n;\n        }\n      }\n\n      if (node.children) {\n        rjsfId = rjsfId.slice(node.name.length + 1);\n        const n = getNodeByRjsfId(node.children, rjsfId);\n        if (n) return n;\n      }\n    }\n  }\n  return null;\n}\n\nexport {\n  schema2tree,\n  removeNodeByPath,\n  addNodeByPath,\n  moveNodeByPath,\n  updateNodeByPath,\n  getNode,\n  removeNode,\n  addNode,\n  moveNode,\n  updateNode,\n  schema2node,\n  getNodeByRjsfId,\n};\n\nexport default {\n  schema2tree,\n  removeNodeByPath,\n  addNodeByPath,\n  moveNodeByPath,\n  updateNodeByPath,\n\n  getNode,\n  removeNode,\n  addNode,\n  moveNode,\n  updateNode,\n  schema2node,\n  getNodeByRjsfId,\n};\n","import axios from 'axios';\n\n// axios.defaults.baseURL = 'https://infohebackoffice.herokuapp.com';\nexport const instance = axios.create({\n    // baseURL: 'https://infohebackoffice.herokuapp.com' \n    baseURL : 'https://infohebackend.herokuapp.com'\n});\n\n// export default {instance};","import React, { useState } from 'react';\nimport { Modal, Input, Form } from 'antd';\n\nconst NewCategoryModal = ({ visibility, setVisibility, saveNewCategory }) => {\n\n    let [name, setName] = useState('')\n\n    const handleOk = e => {\n        let newName = name;\n        setName('');\n        saveNewCategory(newName);\n    };\n\n    const handleCancel = e => {\n        setVisibility(false)\n    };\n\n    return (\n        <Modal\n            title=\"Add Category Name\"\n            visible={visibility}\n            onOk={handleOk}\n            onCancel={handleCancel}\n            destroyOnClose\n        >\n            <Form preserve={false}>\n                <Input size=\"large\" placeholder=\"Enter category\" onChange={e => setName(e.target.value)} defaultValue=''/>\n            </Form>\n        </Modal>\n    )\n}\n\nexport default NewCategoryModal\n","import React from 'react';\nimport { Modal } from 'antd';\n\nconst DeleteCategoryModal = ({ visibility, setVisibility, deleteCategory }) => {\n\n    const handleOk = e => {\n        deleteCategory(true)\n        setVisibility(false)\n    };\n\n    const handleCancel = e => {\n        setVisibility(false)\n    };\n\n    return (\n        <Modal\n            title=\"Confirm to delete Category\"\n            visible={visibility}\n            onOk={handleOk}\n            onCancel={handleCancel}\n        >\n            <p>Are you sure you want to delete this Category?</p>\n        </Modal>\n    )\n}\n\nexport default DeleteCategoryModal\n","import React from 'react';\nimport { Modal } from 'antd';\n\nconst DeleteTemplateModal = ({ visibility, setVisibility, deleteTemplate }) => {\n\n    const handleOk = e => {\n        deleteTemplate()\n        setVisibility(false)\n    };\n\n    const handleCancel = e => {\n        setVisibility(false)\n    };\n\n    return (\n        <Modal\n            title=\"Confirm to remove Template\"\n            visible={visibility}\n            onOk={handleOk}\n            onCancel={handleCancel}\n        >\n            <p>Are you sure you want to delete this Template?</p>\n        </Modal>\n    )\n}\n\nexport default DeleteTemplateModal;\n","import React from 'react';\nimport { Input } from 'antd';\n\nconst Search = ({ selectPrevMatch, selectNextMatch, searchParams, inputChange}) => {\n    let { searchFocusIndex, searchString, searchFoundCount } = searchParams;\n    return (\n        <form\n            style={{ display: 'flex', width: '60%' }}\n            onSubmit={event => {\n                event.preventDefault();\n            }}\n        >\n            <Input\n                id=\"find-box\"\n                type=\"text\"\n                placeholder=\"Search...\"\n                value={searchString}\n                onChange={inputChange}\n            />\n            <button\n                type=\"button\"\n                disabled={!searchFoundCount}\n                onClick={selectPrevMatch}\n            >\n                &lt;\n            </button>\n            <button\n                type=\"submit\"\n                disabled={!searchFoundCount}\n                onClick={selectNextMatch}\n            >\n                &gt;\n            </button>\n            <span>\n                &nbsp;\n                {searchFoundCount > 0 ? searchFocusIndex + 1 : 0}\n                &nbsp;/&nbsp;\n                {searchFoundCount || 0}\n            </span>\n        </form>\n    )\n}\n\nexport default Search;","import React from 'react';\nimport { Button } from 'antd';\n\nconst NewRootCategory = ({onClick}) => {\n    return (\n        <Button\n            type=\"primary\"\n            onClick={onClick}\n        >\n            Add New Category\n        </Button>\n    )\n}\n\nexport default NewRootCategory;","import React, { Component } from 'react';\nimport {instance as api} from '../../axios';\nimport './Categories.css';\n// after\nimport { connect } from \"react-redux\";\nimport SortableTree from 'react-sortable-tree';\nimport { getTreeFromFlatData, addNodeUnderParent, removeNodeAtPath } from \"react-sortable-tree\";\nimport \"react-sortable-tree/style.css\";\nimport { notification, Button, Skeleton } from 'antd';\n\nimport NewCategoryModal from './New';\nimport DeleteCategoryModal  from './Delete';\nimport DeleteTemplateModal from './Delete/DeleteTemplate';\nimport Search from './Search';\nimport NewRootCategory from './New/RootCategory'; \nclass Categories extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n          searchString: '',\n          searchFocusIndex: 0,\n          searchFoundCount: null,\n          categories: [],\n          newCategory: {\n            ModalVisiblity: false,\n            name: \"\",\n            node: null,\n            path: null\n          },\n          deleteCategory: {\n            ModalVisiblity: false,\n            node: null,\n            path: null\n          },\n          deleteTemplate: {\n            ModalVisiblity: false,\n            node: null,\n            path: null\n          }\n        };\n        this.saveToBackend = this.saveToBackend.bind(this)\n        this.newModalVisibility = this.newModalVisibility.bind(this)\n        this.saveNewCategory = this.saveNewCategory.bind(this)\n        \n        this.deleteFromBackend = this.deleteFromBackend.bind(this)\n        this.deleteModalVisibility = this.deleteModalVisibility.bind(this)\n        this.deleteCategory = this.deleteCategory.bind(this)\n    }\n\n    async componentDidMount () {\n        const {data} = await api.get(\"/categories\")\n        let categories = data;\n        for (var i = 0; i < categories.length; i++) {\n          // To remove certain null values. This bug had been rectified in the backend.\n          // Condition still kept as a double check\n          if (categories[i] === null) {\n            categories.splice(i, 1);\n            i--;\n            continue;\n          }\n          categories[i].title = categories[i].name\n        }\n        \n        function getKey(node) {\n          return node._id;\n        }\n\n        function getParentKey(node) {\n          return node.parent_id\n        }\n\n        const tree = getTreeFromFlatData({flatData: categories, getKey, getParentKey, rootKey: null})\n        categories = tree; //populate this from API.\n        this.setState({ categories });\n        this.props.setOptions({ options: categories })\n    }\n\n    async deleteFromBackend (id) {\n      const resp = await api.delete('/categories/'+id)\n      if (resp.status === 204) {\n        notification['success']({\n          message: 'Category Deleted',\n          description:\n            'The category has been deleted from the database!',\n        });\n      }\n    }\n\n    saveToBackend (newNode) {\n      let newCategory = this.state.newCategory;\n      this.setState({newCategory})\n      return api.post(\"/categories\", {...newNode, name: newNode.title})\n        .then(resp => {\n          if(resp.status === 201) {\n            notification['success']({\n              message: 'New Category Saved',\n              description:\n                'The new category has been added to the database!',\n            });\n            return true;\n          } else {\n            return false;\n          }\n        }).catch(e => false)\n    }\n\n    newModalVisibility (bool, node, path) {\n      let newCategory = this.state.newCategory\n      newCategory.ModalVisiblity = bool\n      // We need to save the node and path of the current node so that\n      // the modal will send the data and we can have the parent_id to send to the backend. \n      if(node) {\n        newCategory.node = node\n      }\n      if(path) {\n        newCategory.path = path\n      }\n      this.setState({newCategory})\n    }\n\n    async saveNewCategory (name) {\n      const getNodeKey = ({ treeIndex }) => treeIndex;\n      let newCategory = this.state.newCategory\n      let {node, path} = newCategory, title = name\n\n      if (!title) {\n        return;\n      }\n      const newNode = {\n        title,\n        parent_id: node ? node._id : null,\n        path: node ? node.path + '/' + title : title, \n      };\n      \n      const savedToBackend = await this.saveToBackend(newNode)\n      if (!savedToBackend) {\n        return notification['error']({\n          message: 'An Error Occurred',\n          description: 'The new category was not added to the database!',\n        });\n      }\n      if(node === null) {\n        this.setState(state => ({\n          categories: state.categories.concat(newNode),\n        }))\n      } else {\n        this.setState((state) => ({\n          categories: addNodeUnderParent({\n            treeData: state.categories,\n            parentKey: path[path.length - 1],\n            expandParent: true,\n            getNodeKey,\n            newNode,\n            addAsFirstChild: state.addAsFirstChild,\n          }).treeData,\n        }));\n      }\n      // After addition of the new node, the newCategory variable in state needs to be updated.\n      // BUG: This code is not working. newCategory is not updated.\n      newCategory.ModalVisiblity = false;\n      newCategory.node = null;\n      newCategory.path = null;\n      this.setState({ newCategory })\n    }\n\n    deleteModalVisibility(bool, node, path) {\n      let deleteCategory = this.state.deleteCategory\n      deleteCategory.ModalVisiblity = bool\n      if (node) {\n        deleteCategory.node = node\n      }\n      if (path) {\n        deleteCategory.path = path\n      }\n      this.setState({ deleteCategory })\n    }\n\n    deleteCategory (bool) {\n      const getNodeKey = ({ treeIndex }) => treeIndex;\n      let {node, path} = this.state.deleteCategory\n      this.setState(state => ({\n        categories: removeNodeAtPath({\n          treeData: state.categories,\n          path,\n          getNodeKey,\n        }),\n      }))\n      this.deleteFromBackend(node._id)\n    }\n\n    deleteTemplate = async () => {\n      const node = this.state.deleteTemplate.node\n      const resp = await api.delete(`/templates/${node.template_id}`)\n      if (resp.status === 204) {\n        notification['success']({\n          message: 'Template Deleted',\n          description:\n            'The template has been removed from the database!',\n        });\n        let categories = this.state.categories;\n        categories.forEach(cat => {\n          if (cat._id === node._id) {\n            cat.template_id = null;\n          }\n        })\n        this.setState({ categories })\n      }\n    }\n\n    deleteTemplateModalVisibility = (bool, node, path) => {\n      let deleteTemplate = this.state.deleteTemplate;\n      deleteTemplate = {\n        ModalVisiblity: bool,\n        node, \n        path\n      };\n      this.setState({ deleteTemplate });\n    }\n\n    render() {\n      const { searchString, searchFocusIndex, searchFoundCount } = this.state;\n      \n      const selectPrevMatch = () =>\n        this.setState({\n          searchFocusIndex:\n            searchFocusIndex !== null\n              ? (searchFoundCount + searchFocusIndex - 1) % searchFoundCount\n              : searchFoundCount - 1,\n        });\n\n      const selectNextMatch = () =>\n        this.setState({\n          searchFocusIndex:\n            searchFocusIndex !== null\n              ? (searchFocusIndex + 1) % searchFoundCount\n              : 0,\n        });\n\n      const customSearchMethod = ({ node, searchQuery }) => {\n        return (\n        searchQuery &&\n        node.title.toLowerCase().indexOf(searchQuery.toLowerCase()) > -1)\n      }\n\n      const searchInputChange = (event) => this.setState({ searchString: event.target.value });\n      return (\n        <div className=\"Categories\">\n          <h3>List of Categories</h3>\n          <Search\n            searchParams={{searchString, searchFocusIndex, searchFoundCount}}\n            selectPrevMatch={selectPrevMatch}\n            selectNextMatch={selectNextMatch}\n            inputChange={searchInputChange}\n          />\n          <NewRootCategory \n            onClick={() => this.newModalVisibility(true, null, null)}\n          />\n          {this.state.categories.length ? (<SortableTree\n            canDrag={false}\n            treeData={this.state.categories}\n            onChange={(treeData) => this.setState({ categories: treeData })}\n            generateNodeProps={({ node, path }) => ({\n              buttons: [\n                <Button\n                  onClick={async () => {\n                    this.newModalVisibility(true, node, path)\n                  }}\n                >\n                  Add Child\n                </Button>,\n                // If a category has children or a category has an existing template, it cannot be deleted. \n                (!node.children && node.template_id == null) ? (<Button\n                  onClick={(event) => {\n                    this.deleteModalVisibility(true, node, path)\n                  }\n                }>\n                  Remove\n                </Button>) : null,\n                (!node.template_id) ? (<Button\n                  href={`/template?category=${node._id}`}\n                >\n                  Add Template\n                </Button>) : [(<Button\n                  key={`edit-${node._id}`}\n                  href={`/template?category=${node._id}&template=${node.template_id}`}\n                >\n                  View/Edit Template\n                </Button>),\n                ((node.products === 0 && node.template_id !== null) ? (<Button\n                  key={`remove-${node._id}`}\n                  onClick={async (event) => this.deleteTemplateModalVisibility(true, node, path)}\n                >\n                  Remove Template\n                </Button>) : (<Button\n                  key={`editprod-${node._id}`}\n                  href={`/product?category=${node._id}`}\n                >\n                  View/Edit Product\n                </Button>)),\n                (<Button\n                  key={`addprod-${node._id}`}\n                  href={`/addproduct?category=${node._id}&template=${node.template_id}`}\n                >\n                  Add Product\n                </Button>)],\n              ],\n            })}\n            searchMethod={customSearchMethod}\n            onlyExpandSearchedNodes\n            // The query string used in the search. This is required for searching.\n            searchQuery={searchString}\n            // When matches are found, this property lets you highlight a specific\n            // match and scroll to it. This is optional.\n            searchFocusOffset={searchFocusIndex}\n            // This callback returns the matches from the search,\n            // including their `node`s, `treeIndex`es, and `path`s\n            // Here I just use it to note how many matches were found.\n            // This is optional, but without it, the only thing searches\n            // do natively is outline the matching nodes.\n            searchFinishCallback={matches =>\n              this.setState({\n                searchFoundCount: matches.length,\n                searchFocusIndex:\n                matches.length > 0 ? searchFocusIndex % matches.length : 0,\n              })\n            }\n          />) : <Skeleton active />}\n          <NewCategoryModal\n            visibility={this.state.newCategory.ModalVisiblity}\n            setVisibility={this.newModalVisibility}\n            saveNewCategory={this.saveNewCategory}\n          />\n          <DeleteCategoryModal\n            visibility={this.state.deleteCategory.ModalVisiblity}\n            setVisibility={this.deleteModalVisibility}\n            deleteCategory={this.deleteCategory}\n          />\n          <DeleteTemplateModal\n            visibility={this.state.deleteTemplate.ModalVisiblity}\n            setVisibility={this.deleteTemplateModalVisibility}\n            deleteTemplate={this.deleteTemplate}\n          />\n        </div>\n      );\n    }\n}\n\nexport default connect(({ options }) => ({\n  options\n}), (dispatch) => ({\n  setOptions: ({ options }) => \n    dispatch({\n      type: 'SET_OPTIONS',\n      payload: options\n    })\n}))(Categories);\n","import React from 'react';\nimport ArrayField from '@rjsf/core/lib/components/fields/ArrayField';\n\nimport { getWidget, getUiOptions, optionsList, retrieveSchema, getDefaultRegistry } from './utils';\n\nclass ArrayFieldPatched extends ArrayField {\n  renderMultiSelect() {\n    const {\n      schema,\n      idSchema,\n      uiSchema,\n      formData,\n      disabled,\n      readonly,\n      autofocus,\n      onBlur,\n      onFocus,\n      registry = getDefaultRegistry(),\n      rawErrors,\n    } = this.props;\n    const items = this.props.formData;\n    const { widgets, definitions, formContext } = registry;\n    const itemsSchema = retrieveSchema(schema.items, definitions, formData);\n    const enumOptions = optionsList(itemsSchema);\n    const { widget = 'select', ...options } = {\n      ...getUiOptions(uiSchema),\n      enumOptions,\n    };\n    const Widget = getWidget(schema, widget, widgets);\n    return (\n      <Widget\n        id={idSchema && idSchema.$id}\n        multiple\n        onChange={this.onSelectChange}\n        onBlur={onBlur}\n        onFocus={onFocus}\n        options={options}\n        schema={schema}\n        value={items}\n        disabled={disabled}\n        readonly={readonly}\n        formContext={formContext}\n        autofocus={autofocus}\n        rawErrors={rawErrors}\n      />\n    );\n  }\n}\n\nexport default ArrayFieldPatched;\n","import React from 'react';\nimport * as types from '@rjsf/core/lib/types';\n\nimport { getWidget, getUiOptions, optionsList, getDefaultRegistry } from './utils';\n\nfunction BooleanField(props) {\n  const {\n    schema,\n    name,\n    uiSchema,\n    idSchema,\n    formData,\n    registry = getDefaultRegistry(),\n    required,\n    disabled,\n    readonly,\n    autofocus,\n    onChange,\n    onFocus,\n    onBlur,\n    rawErrors,\n  } = props;\n  const { title } = schema;\n  const { widgets, formContext, fields } = registry;\n  const { widget = 'checkbox', ...options } = getUiOptions(uiSchema);\n  const Widget = getWidget(schema, widget, widgets);\n\n  let enumOptions;\n\n  if (Array.isArray(schema.oneOf)) {\n    enumOptions = optionsList({\n      oneOf: schema.oneOf.map((option) => ({\n        ...option,\n        title: option.title || (option.const === true ? 'Yes' : 'No'),\n      })),\n    });\n  } else {\n    enumOptions = optionsList({\n      enum: schema.enum || [true, false],\n      enumNames: schema.enumNames || (schema.enum && schema.enum[0] === false ? ['No', 'Yes'] : ['Yes', 'No']),\n    });\n  }\n\n  return (\n    <Widget\n      options={{ ...options, enumOptions }}\n      schema={schema}\n      id={idSchema && idSchema.$id}\n      onChange={onChange}\n      onFocus={onFocus}\n      onBlur={onBlur}\n      label={title === undefined ? name : title}\n      value={formData}\n      required={required}\n      disabled={disabled}\n      readonly={readonly}\n      registry={registry}\n      formContext={formContext}\n      autofocus={autofocus}\n      rawErrors={rawErrors}\n      DescriptionField={fields.DescriptionField}\n    />\n  );\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  BooleanField.propTypes = types.fieldProps;\n}\n\nBooleanField.defaultProps = {\n  uiSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n};\n\nexport default BooleanField;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getWidget, getUiOptions, isSelect, optionsList, getDefaultRegistry, hasWidget } from './utils';\n\nfunction StringField(props) {\n  const {\n    schema,\n    name,\n    uiSchema,\n    idSchema,\n    formData,\n    required,\n    disabled,\n    readonly,\n    autofocus,\n    onChange,\n    onBlur,\n    onFocus,\n    registry = getDefaultRegistry(),\n    rawErrors,\n  } = props;\n  const { title, format } = schema;\n  const { widgets, formContext } = registry;\n  const enumOptions = isSelect(schema) && optionsList(schema);\n  let defaultWidget = enumOptions ? 'select' : 'text';\n  if (format && hasWidget(schema, format, widgets)) {\n    defaultWidget = format;\n  }\n  const { widget = defaultWidget, placeholder = '', ...options } = getUiOptions(uiSchema);\n  const Widget = getWidget(schema, widget, widgets);\n\n  return (\n    <Widget\n      options={{ ...options, enumOptions }}\n      schema={schema}\n      id={idSchema && idSchema.$id}\n      label={title === undefined ? name : title}\n      value={formData}\n      onChange={onChange}\n      onBlur={onBlur}\n      onFocus={onFocus}\n      required={required}\n      disabled={disabled}\n      readonly={readonly}\n      formContext={formContext}\n      autofocus={autofocus}\n      registry={registry}\n      placeholder={placeholder}\n      rawErrors={rawErrors}\n    />\n  );\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  StringField.propTypes = {\n    schema: PropTypes.object.isRequired,\n    uiSchema: PropTypes.object.isRequired,\n    idSchema: PropTypes.object,\n    onChange: PropTypes.func.isRequired,\n    onBlur: PropTypes.func,\n    onFocus: PropTypes.func,\n    formData: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    registry: PropTypes.shape({\n      widgets: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object])).isRequired,\n      fields: PropTypes.objectOf(PropTypes.func).isRequired,\n      definitions: PropTypes.object.isRequired,\n      formContext: PropTypes.object.isRequired,\n    }),\n    formContext: PropTypes.object.isRequired,\n    required: PropTypes.bool,\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n    autofocus: PropTypes.bool,\n    rawErrors: PropTypes.arrayOf(PropTypes.string),\n  };\n}\n\nStringField.defaultProps = {\n  uiSchema: {},\n  disabled: false,\n  readonly: false,\n  autofocus: false,\n};\n\nexport default StringField;\n","import SchemaField from '@rjsf/core/lib/components/fields/SchemaField';\nimport { notification } from 'antd';\n\nexport default class PatchedSchemaField extends SchemaField {\n  componentDidCatch(error, info) {\n    notification.error({\n      message: `Error: ${this.props.idSchema.$id}`,\n      description: error.toString(),\n      duration: 0,\n    });\n  }\n}\n","import React from 'react';\nimport { Alert } from 'antd';\nimport ArrayField from './ArrayField';\nimport BooleanField from './BooleanField';\nimport StringField from './StringField';\nimport SchemaField from './SchemaField';\nimport { getWidget as _getWidget } from '@rjsf/core/lib/utils';\nexport * from '@rjsf/core/lib/utils';\n\nfunction Error(msg) {\n  return () => <Alert message={msg} type=\"error\" showIcon />;\n}\n\nexport function getWidget(...args) {\n  try {\n    return _getWidget(...args);\n  } catch (e) {\n    return Error(e.toString());\n  }\n}\n\nfunction TitleField(props) {\n  const { id, title, required } = props;\n  return (\n    <legend id={id}>\n      {title}\n      {required ? '*' : null}\n    </legend>\n  );\n}\n\nexport function getDefaultRegistry() {\n  const fields = {\n    ...require('@rjsf/core/lib/components/fields').default,\n    ArrayField,\n    StringField,\n    BooleanField,\n    TitleField,\n    SchemaField,\n  };\n  return {\n    fields,\n    widgets: require('@rjsf/core/lib/components/widgets').default,\n    definitions: {},\n    formContext: {},\n  };\n}\n","import Form from '@rjsf/core/lib';\nimport { getDefaultRegistry } from './utils';\n\nexport default class FormPatch extends Form {\n  getRegistry() {\n    const { fields, widgets } = getDefaultRegistry();\n    return {\n      fields: { ...fields, ...this.props.fields },\n      widgets: { ...widgets, ...this.props.widgets },\n      ArrayFieldTemplate: this.props.ArrayFieldTemplate,\n      ObjectFieldTemplate: this.props.ObjectFieldTemplate,\n      FieldTemplate: this.props.FieldTemplate,\n      definitions: this.props.schema.definitions || {},\n      formContext: this.props.formContext || {},\n      onSubmit: this.props.onSubmit\n    };\n  }\n}\n","import React from 'react';\n\nconst REQUIRED_FIELD_SYMBOL = '*';\n\nfunction Label(props) {\n  const { label, required, id } = props;\n  if (!label) {\n    // See #312: Ensure compatibility with old versions of React.\n    return <div />;\n  }\n  return (\n    <label className=\"control-label\" htmlFor={id}>\n      {label}\n      {required && <span className=\"required\">{REQUIRED_FIELD_SYMBOL}</span>}\n    </label>\n  );\n}\n\nexport function DefaultTemplate(props) {\n  const { id, classNames, label, children, errors, help, description, hidden, required, displayLabel } = props;\n  if (hidden) {\n    return children;\n  }\n\n  return (\n    <div className={classNames}>\n      {displayLabel && <Label label={label} required={required} id={id} />}\n      {displayLabel && description ? description : null}\n      {children}\n      {errors}\n      {help}\n    </div>\n  );\n}\n\nexport function DefaultObjectFieldTemplate(props) {\n  const { TitleField, DescriptionField } = props;\n  return (\n    <fieldset>\n      {(props.uiSchema['ui:title'] || props.title) && (\n        <TitleField\n          id={`${props.idSchema.$id}__title`}\n          title={props.title || props.uiSchema['ui:title']}\n          required={props.required}\n          formContext={props.formContext}\n        />\n      )}\n      {props.description && (\n        <DescriptionField\n          id={`${props.idSchema.$id}__description`}\n          description={props.description}\n          formContext={props.formContext}\n        />\n      )}\n      {props.properties.map((prop) => prop.content)}\n    </fieldset>\n  );\n}\n","import React, { Component } from 'react';\nimport { Input } from 'antd';\nimport { EditOutlined } from '@ant-design/icons';\n\nexport default class InlineEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editing: false,\n      value: this.props.value,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: nextProps.value });\n  }\n\n  onChange = (e) => {\n    this.setState({ value: e.target.value });\n  };\n  onCompleteEditing = () => {\n    this.setState({ editing: false });\n    const newValue = this.state.value.trim();\n    if (newValue !== this.props.value) {\n      this.props.onChange && this.props.onChange(newValue);\n    }\n  };\n  onStartEditing = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({ editing: true }, () => this.input && this.input.focus());\n  };\n\n  onCancelEditing = () => {\n    this.setState({\n      editing: false,\n      value: this.props.value,\n    });\n  };\n\n  renderEditing() {\n    return (\n      <Input\n        ref={(r) => (this.input = r)}\n        value={this.state.value}\n        onBlur={this.onCompleteEditing}\n        onChange={this.onChange}\n        onKeyUp={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          if (e.keyCode === 13) {\n            this.onCompleteEditing();\n          } else if (e.keyCode === 27) {\n            this.onCancelEditing();\n          }\n        }}\n      />\n    );\n  }\n\n  renderView() {\n    return (\n      <span>\n        {this.props.children}\n        <EditOutlined onClick={this.onStartEditing} />\n      </span>\n    );\n  }\n\n  render() {\n    if (this.state.editing) {\n      return this.renderEditing();\n    } else {\n      return this.renderView();\n    }\n  }\n}\n","import React from 'react';\nimport InlineEditor from '../InlineEditor';\nimport { connect } from 'react-redux';\nimport { Input, Popconfirm, Tooltip } from 'antd';\nimport { SelectOutlined, DeleteOutlined } from '@ant-design/icons';\nconst { getNodeByRjsfId } = require('../core');\nconst { TextArea } = Input;\n\nconst ACTIVE_STYLE = { backgroundColor: '#bae7ff' };\n\nclass ExtendedInlineEditor extends InlineEditor {\n  renderView() {\n    return (\n      <span className=\"fb-test\" onClick={this.onStartEditing}>\n        {this.props.children}\n      </span>\n    );\n  }\n}\n\nclass InlineTextAreaEditor extends ExtendedInlineEditor {\n  renderEditing() {\n    return (\n      <TextArea\n        ref={(r) => (this.input = r)}\n        value={this.state.value}\n        onBlur={this.onCompleteEditing}\n        onChange={this.onChange}\n        autoSize\n        onKeyUp={(e) => {\n          if (e.keyCode === 27) {\n            this.onCancelEditing();\n          }\n        }}\n      />\n    );\n  }\n}\n\nconst ButtonGroup = connect(null, (dispatch, { id }) => ({\n  select: () => dispatch({ type: 'ACTIVE_NODE_KEY_SET_BY_RJSF_ID', payload: id }),\n  remove: () => dispatch({ type: 'TREE_REMOVE_NODE_BY_RJSF_ID', payload: id }),\n}))((props) => {\n  const { select, remove, id } = props;\n  return (\n    <Tooltip title={id} placement=\"right\">\n      <a href=\"#!\">\n        <SelectOutlined onClick={select} />\n      </a>\n      <Popconfirm title={`Remove ${id}?`} onConfirm={remove}>\n        <a href=\"#!\">\n          <DeleteOutlined />\n        </a>\n      </Popconfirm>\n    </Tooltip>\n  );\n});\n\nexport function fieldTemplateConnector(FieldTemplate) {\n  return connect(\n    ({ tree: { present }, activeNodeKey, settings: { isInlineMode } }, { id }) => {\n      const n = getNodeByRjsfId(present, id);\n      const active = n && n.key === activeNodeKey;\n      return { tree: present, active, isInlineMode };\n    },\n    (dispatch, { id, schema, uiSchema }) => ({\n      updateTitle: (title) =>\n        dispatch({\n          type: 'TREE_UPDATE_NODE_BY_RJSF_ID',\n          payload: { rjsfId: id, nodeUpdate: { schema: { ...schema, title } } },\n        }),\n      updateDescription: (description) =>\n        dispatch({\n          type: 'TREE_UPDATE_NODE_BY_RJSF_ID',\n          payload: { rjsfId: id, nodeUpdate: { schema: { ...schema, description } } },\n        }),\n      updateHelp: (help) =>\n        dispatch({\n          type: 'TREE_UPDATE_NODE_BY_RJSF_ID',\n          payload: { rjsfId: id, nodeUpdate: { uiSchema: { ...uiSchema, 'ui:help': help } } },\n        }),\n    })\n  )((props) => {\n    const {\n      id,\n      label,\n      description,\n      help,\n      schema,\n      updateTitle,\n      updateDescription,\n      updateHelp,\n      active,\n      classNames,\n      isInlineMode,\n    } = props;\n    if (!isInlineMode) return <FieldTemplate {...props} />;\n    const labelElement = label && (\n      <ExtendedInlineEditor value={label} onChange={updateTitle}>\n        {label}\n      </ExtendedInlineEditor>\n    );\n    const descriptionElement = description && (\n      <InlineTextAreaEditor value={description.props.description} onChange={updateDescription}>\n        {description}\n      </InlineTextAreaEditor>\n    );\n    const helpElement = help && (\n      <ExtendedInlineEditor value={help.props.help} onChange={updateHelp}>\n        {help}\n      </ExtendedInlineEditor>\n    );\n    return (\n      <div className={classNames} style={active ? ACTIVE_STYLE : null}>\n        {['object', 'array'].includes(schema.type) ? null : (\n          <div className=\"pull-right\">\n            {' '}\n            <ButtonGroup id={id} />{' '}\n          </div>\n        )}\n        <FieldTemplate\n          _label={label}\n          _description={description}\n          _help={help}\n          {...props}\n          classNames={null}\n          label={labelElement}\n          description={descriptionElement}\n          help={helpElement}\n        />\n      </div>\n    );\n  });\n}\n\nexport function objectFieldTemplateConnector(ObjectFieldTemplate) {\n  return connect(\n    ({ tree: { present }, activeNodeKey, settings: { isInlineMode } }, { idSchema }) => {\n      const n = idSchema && idSchema.$id && getNodeByRjsfId(present, idSchema.$id);\n      const active = n && n.key === activeNodeKey;\n      return { tree: present, active, isInlineMode };\n    },\n    (dispatch, { idSchema, schema }) => ({\n      updateTitle: (title) =>\n        dispatch({\n          type: 'TREE_UPDATE_NODE_BY_RJSF_ID',\n          payload: { rjsfId: idSchema.$id, nodeUpdate: { schema: { ...schema, title } } },\n        }),\n      updateDescription: (description) =>\n        dispatch({\n          type: 'TREE_UPDATE_NODE_BY_RJSF_ID',\n          payload: { rjsfId: idSchema.$id, nodeUpdate: { schema: { ...schema, description } } },\n        }),\n    })\n  )((props) => {\n    const { idSchema, title, description, updateTitle, updateDescription, active, isInlineMode } = props;\n    if (!isInlineMode) return <ObjectFieldTemplate {...props} />;\n    const titleElement = title && (\n      <span>\n        <ExtendedInlineEditor value={title} onChange={updateTitle}>\n          {title}\n        </ExtendedInlineEditor>\n        <span className=\"pull-right\">\n          {' '}\n          <ButtonGroup id={idSchema.$id} />{' '}\n        </span>\n      </span>\n    );\n    const descriptionElement = description && (\n      <InlineTextAreaEditor value={description} onChange={updateDescription}>\n        {description}\n      </InlineTextAreaEditor>\n    );\n\n    return (\n      <div style={active ? ACTIVE_STYLE : null}>\n        <ObjectFieldTemplate\n          _title={title}\n          _description={description}\n          {...props}\n          title={titleElement}\n          description={descriptionElement}\n        />\n      </div>\n    );\n  });\n}\n","import { DefaultTemplate, DefaultObjectFieldTemplate } from './Template';\nimport { fieldTemplateConnector, objectFieldTemplateConnector } from './connectors';\n\nexport const FieldTemplate = fieldTemplateConnector(DefaultTemplate);\nexport const ObjectFieldTemplate = objectFieldTemplateConnector(DefaultObjectFieldTemplate);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Form from '../rjsf-patch/Form';\n\nimport { FieldTemplate, ObjectFieldTemplate } from '../Template';\n\nclass FormView extends React.Component {\n  render() {\n    if (!this.props.schema) {\n      return null;\n    }\n    const { name, schema, uiSchema, formData, setFormData, liveValidate, onSubmit } = this.props;\n    return (\n      <Form\n        schema={schema}\n        uiSchema={uiSchema}\n        formData={formData}\n        liveValidate={liveValidate}\n        FieldTemplate={FieldTemplate}\n        ObjectFieldTemplate={ObjectFieldTemplate}\n        idPrefix={name}\n        onChange={setFormData}\n        onSubmit={onSubmit}\n      />\n    );\n  }\n}\n\nexport default connect(\n  ({\n    tree: {\n      present: [{ name, schema, uiSchema }],\n    },\n    formData,\n    settings: { isLiveValidate },\n  }) => ({\n    name,\n    schema,\n    uiSchema,\n    formData,\n    liveValidate: isLiveValidate,\n  }),\n  (dispatch) => ({\n    setFormData: ({ formData }) =>\n      dispatch({\n        type: 'FORM_DATA_SET',\n        payload: formData,\n      }),\n  })\n)(FormView);\n","import React from 'react';\nimport { Input, Alert } from 'antd';\nconst { TextArea } = Input;\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n  if (!objA || !objB) {\n    return false;\n  }\n  var key;\n  // Test for A's keys different from B.\n  for (key in objA) {\n    if (objA.hasOwnProperty(key) && (!objB.hasOwnProperty(key) || objA[key] !== objB[key])) {\n      return false;\n    }\n  }\n  // Test for B'a keys missing from A.\n  for (key in objB) {\n    if (objB.hasOwnProperty(key) && !objA.hasOwnProperty(key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default class JsonEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    const { value } = props;\n    this.state = {\n      string: JSON.stringify(value, null, 2),\n      value,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!shallowEqual(nextProps.value, this.state.value)) {\n      this.setState({\n        value: nextProps.value,\n        string: JSON.stringify(nextProps.value, null, 2),\n        error: null,\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextState.string !== this.state.string;\n  }\n\n  onChange = (e) => {\n    const value = e.target.value;\n    try {\n      const obj = value ? JSON.parse(value) : null;\n      this.setState(\n        {\n          value: obj,\n          string: value,\n          error: null,\n        },\n        () => this.props.onChange(obj)\n      );\n    } catch (error) {\n      this.setState({\n        string: value,\n        error,\n      });\n    }\n  };\n\n  renderErrorMessage() {\n    const { error } = this.state;\n    if (!error) return null;\n    const errorMessage = error.toString();\n    const message = (\n      <a\n        href=\"#!\"\n        onClick={() => {\n          const matched = /position ([0-9]+)/.exec(errorMessage);\n          const position = matched ? matched[1] : -1;\n          const input = this.input.textAreaRef;\n          input.selectionStart = position;\n          input.selectionEnd = position;\n          input.focus();\n        }}\n      >\n        {error.toString()}\n      </a>\n    );\n    return <Alert message={message} type=\"error\" showIcon />;\n  }\n\n  onClickPrettify = () => {\n    let { error } = this.state;\n    if (!error) {\n      this.setState({\n        string: JSON.stringify(this.props.value, null, 2),\n      });\n    }\n  };\n\n  render() {\n    const { string } = this.state;\n    return (\n      <div>\n        {this.renderErrorMessage() || (\n          <Alert\n            message={\n              <a href=\"#!\" onClick={this.onClickPrettify}>\n                Prettify\n              </a>\n            }\n            type=\"success\"\n            showIcon\n          />\n        )}\n        <TextArea {...this.props} ref={(ref) => (this.input = ref)} value={string} onChange={this.onChange} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport JsonEditor from '../JsonEditor';\n\nexport default connect(\n  ({\n    tree: {\n      present: [{ schema }],\n    },\n  }) => ({ schema }),\n  (dispatch) => ({\n    setTree: (schema) =>\n      dispatch({\n        type: 'TREE_SET_TREE',\n        payload: {\n          schema,\n        },\n      }),\n  })\n)(({ schema, setTree }) => <JsonEditor value={schema} onChange={(value) => setTree(value)} autoSize />);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport JsonEditor from '../JsonEditor';\n\nexport default connect(\n  ({\n    tree: {\n      present: [{ uiSchema }],\n    },\n  }) => ({ uiSchema }),\n  (dispatch) => ({\n    setTree: (uiSchema) =>\n      dispatch({\n        type: 'TREE_SET_TREE',\n        payload: {\n          uiSchema,\n        },\n      }),\n  })\n)(({ uiSchema, setTree }) => <JsonEditor value={uiSchema} onChange={(value) => setTree(value)} autoSize />);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'antd';\nimport JsonEditor from '../JsonEditor';\n\nfunction name2title(name) {\n  if (!name) return name;\n  const words = name.indexOf('_') >= 0 ? name.split('_') : name.split(/(?=[A-Z])/);\n  return words.map((a) => a.charAt(0).toUpperCase() + a.slice(1)).join(' ');\n}\n\nfunction json2schema(data, name) {\n  const title = name ? name2title(name) : undefined;\n  if (typeof data === 'number') {\n    return {\n      type: Number.isInteger(data) ? 'integer' : 'number',\n      title,\n    };\n  }\n  if (typeof data === 'string') {\n    return {\n      type: 'string',\n      title,\n    };\n  }\n  if (typeof data === 'boolean') {\n    return {\n      type: 'boolean',\n      title,\n    };\n  }\n  if (typeof data === 'object') {\n    if (Array.isArray(data)) {\n      return {\n        type: 'array',\n        title,\n        items: json2schema(data[0]),\n      };\n    }\n    let properties = {};\n    for (const i in data) {\n      const s = json2schema(data[i], i);\n      if (s) {\n        properties[i] = s;\n      }\n    }\n    return {\n      type: 'object',\n      title,\n      properties,\n    };\n  }\n  return undefined;\n}\n\nexport default connect(\n  ({ formData }) => ({ formData }),\n  (dispatch) => ({\n    setFormData: (formData) =>\n      dispatch({\n        type: 'FORM_DATA_SET',\n        payload: formData,\n      }),\n    genForm: (formData) =>\n      dispatch({\n        type: 'TREE_SET_TREE',\n        payload: {\n          name: 'root',\n          schema: json2schema(formData, 'form'),\n          uiSchema: {},\n        },\n      }),\n  })\n)(({ formData, setFormData, genForm }) => (\n  <div>\n    <JsonEditor value={formData} onChange={(value) => setFormData(value)} autoSize />\n    <Button type=\"primary\" onClick={() => genForm(formData)}>\n      Gen Form\n    </Button>\n    <Button onClick={() => setFormData({})}>Clear</Button>\n  </div>\n));\n","import React, { Component } from 'react';\nimport {instance as api} from '../../axios';\nimport { connect } from 'react-redux';\nimport { Card } from '@material-ui/core';\nimport { FormView } from '../ProductTemplates/views/index';\nimport { notification } from 'antd';\n\nimport './Products.css';\n\n\nclass Products extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formData: {},\n      schema: {},\n      templateId: null,\n      categoryId: null,\n      productId: null, // Will have value when product is edited.\n    };\n  }\n\n  async componentDidMount() {\n    const query = new URLSearchParams(this.props.location.search)\n    let templateId = query.get('template'), \n        categoryId = query.get('category'),\n        productId = query.get('product');\n    \n    let uiSchema = {}\n    // If product is being Edited\n    if (productId !== null) {\n      this.setState({ productId })\n      // Lock the inputs manuf, model\n      uiSchema = {\n        name: { \"ui:readonly\": true },\n        image: { \"ui:readonly\": true}\n      }\n    }\n    const { data: template } = await api.get(\"/templates/\" + templateId);\n    if (categoryId === 'null') {\n      categoryId = template.category_id\n    }\n    // To remove the inline icons (Delete, etc) which are present in Template page\n    this.props.updateSettings({ isInlineMode: false })\n    this.props.setTree({schema: JSON.parse(template.formSchema), uiSchema})\n    this.setState({ schema: JSON.parse(template.formSchema), templateId, categoryId });\n  }\n\n  submitHandler = async () => {\n  try {\n    let name = '', formData = this.props.formData;\n    name = `${formData.name}`;\n    const body = {\n      template_id: this.state.templateId,\n      category_id: this.state.categoryId,\n      data: JSON.stringify(formData),\n      name\n    };\n    let data;\n    if (this.state.productId !== null) {\n      body.id = this.state.productId\n      data = await api.patch(\"/product\", body);\n    } else {\n      data = await api.post(\"/product\", body);\n    }\n    if (data.status === 201 || data.status === 200) {\n      notification['success']({\n          message: 'Product Added',\n          description:\n            'The product has been added to the database!',\n        });\n      this.props.setFormData({formData: {}})\n    } else {\n      notification['error']({\n        message: 'An Error Occurred',\n        description: 'The product was not saved to the database. Please try again later.'\n      })\n    }\n  } catch (e) {\n    notification['error']({\n      message: 'An Error Occurred',\n      description: 'The product was not saved to the database. Please try again later.'\n    })\n  }\n  };\n\n  render() {\n    return (\n      <div className=\"product\">\n        <h4>Form Page</h4>\n        <h5>{this.state.productId ? 'Edit Product' : 'Add New Product'}</h5>\n        <Card variant=\"elevation\" raised className=\"card\">\n          <FormView\n            formData={this.props.formData}\n            schema={this.props.schema}\n            onSubmit={this.submitHandler}\n          />\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default connect(({ \n  settings,\n  formData, \n  tree: {\n    present: [{ schema }]\n  }\n}) => ({\n  settings,\n  schema,\n  formData\n}), (dispatch) => ({\n  setTree: ({schema, uiSchema}) =>\n    dispatch({\n      type: 'TREE_SET_TREE',\n      payload: {\n        schema,\n        uiSchema\n      },\n    }),\n  setFormData: ({ formData }) =>\n    dispatch({\n      type: 'FORM_DATA_SET',\n      payload: formData,\n    }),\n  updateSettings: (payload) =>\n    dispatch({\n      type: 'SETTINGS_UPDATE',\n      payload,\n    }),\n}))(Products);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Menu } from 'antd';\nconst { SubMenu, Item } = Menu;\n\nfunction nameGen(name, occupied) {\n  let n = 1;\n  let newName = name;\n  while (occupied && occupied.includes(newName)) {\n    newName = name + '_' + n;\n    n += 1;\n  }\n  return newName;\n}\n\nclass AddItemMenu extends React.Component {\n  onAddNode = (node2add) => {\n    const { addNode } = this.props;\n    const name = nameGen(\n      node2add.name,\n      this.props.node.children.map((a) => a.name)\n    );\n    console.log(node2add)\n    addNode({ ...node2add, name });\n  };\n  render() {\n    const {\n      menu: { children: menuTree },\n      menuOpenKeys,\n      menuOpenChange,\n    } = this.props;\n    /* A modal can be added here that can ask for the title of the List element to be added. \n    Or a patch file will need to be replicated in the rjsf-patch for specific List element. */\n    return (\n      <Menu mode=\"inline\" theme=\"dark\" openKeys={menuOpenKeys} onOpenChange={menuOpenChange}>\n        {menuTree.map((a) =>\n          a.schema && a.schema.type === 'object' && a.children && a.children.length ? (\n            <SubMenu key={a.key} title={a.schema.title || a.name}>\n              {a.children.map((b) => (\n                <Item key={b.key} onClick={() => this.onAddNode(b)}>\n                  {b.schema.title || b.name}\n                </Item>\n              ))}\n            </SubMenu>\n          ) : (\n            <Item key={a.key} onClick={() => this.onAddNode(a)}>\n              {a.schema.title || a.name}\n            </Item>\n          )\n        )}\n      </Menu>\n    );\n  }\n}\n\nexport default connect(\n  ({ menu, menuOpenKeys }) => ({ menu, menuOpenKeys }),\n  (dispatch, { node }) => ({\n    addNode: (node2add) =>\n      dispatch({\n        type: 'TREE_ADD_NODE',\n        payload: {\n          targetNodeKey: node.key,\n          position: 0,\n          node2add,\n        },\n      }),\n    menuOpenChange: (keys) =>\n      dispatch({\n        type: 'MENU_OPEN_KEYS_SET',\n        payload: keys,\n      }),\n  })\n)(AddItemMenu);\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { Popconfirm } from 'antd';\nimport { PlusCircleOutlined, CloseCircleFilled } from '@ant-design/icons';\nimport InlineEditor from '../InlineEditor';\nimport { Dropdown, notification } from 'antd';\nimport AddItemMenu from './Menu';\n\nclass TreeNodeTitle extends PureComponent {\n  render() {\n    const { node, removeNode, updateNodeName, searchValue } = this.props;\n    const { name, key } = node;\n    const isLeaf = node.isLeaf;\n    const isRoot = node.name === node.key;\n    const isArray = node.schema.type === 'array';\n    const indexBefore = node.name.toLowerCase().indexOf(searchValue);\n    const indexAfter = indexBefore + searchValue.length;\n    return (\n      <span style={{ display: 'block' }}>\n        {searchValue && indexBefore >= 0 ? (\n          <InlineEditor value={node.name} onChange={(name) => updateNodeName(key, name)}>\n            {name.slice(0, indexBefore)}\n            <span style={{ color: '#f50' }}>{name.slice(indexBefore, indexAfter)}</span>\n            {name.slice(indexAfter)}\n          </InlineEditor>\n        ) : (\n          <InlineEditor value={node.name} onChange={(name) => updateNodeName(key, name)}>\n            {name}\n          </InlineEditor>\n        )}\n        <span className=\"pull-right\">\n          {!(isLeaf || isArray) ? (\n            <span className=\"form-builder-add-item-menu\" onClick={(e) => e.stopPropagation()}>\n              <Dropdown placement=\"bottomLeft\" trigger={['click']} overlay={<AddItemMenu node={node} />}>\n                <PlusCircleOutlined />\n              </Dropdown>\n            </span>\n          ) : null}\n          {!isRoot ? (\n            <span className=\"tree-node-delete\" onClick={(e) => e.stopPropagation()}>\n              <Popconfirm\n                placement=\"rightTop\"\n                title={`Delete \"${key}\"?`}\n                onConfirm={() => {\n                  // This check is really not needed right now, but still\n                  let thisKey = node.key.split('.')[1]\n                  if (thisKey === 'name' || thisKey === 'image') {\n                    return notification['error']({\n                      message: 'Cannot delete basic fields!',\n                      description: 'You cannot delete the basic fields required for templates.'\n                    })\n                  }\n                  removeNode(key)}}\n                okText=\"Yes\"\n                cancelText=\"No\"\n              >\n                <CloseCircleFilled />\n              </Popconfirm>\n            </span>\n          ) : null}\n        </span>\n      </span>\n    );\n  }\n}\n\nexport default connect(null, (dispatch) => ({\n  removeNode: (key) =>\n    dispatch({\n      type: 'TREE_REMOVE_NODE',\n      payload: key,\n    }),\n  updateNodeName: (key, name) =>\n    dispatch({\n      type: 'TREE_UPDATE_NODE',\n      payload: { target: key, nodeUpdate: { name } },\n    }),\n}))(TreeNodeTitle);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Tree, Input } from 'antd';\nimport TreeNodeTitle from './TreeNodeTitle';\nconst { TreeNode } = Tree;\nconst { Search } = Input;\n\nclass Demo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expandedKeys: ['root'],\n      searchValue: '',\n      searchExpanded: [],\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.activeNodeKey && nextProps.activeNodeKey !== this.props.activeNodeKey) {\n      let path = nextProps.activeNodeKey.split('.');\n      let expandedKeys = [...this.state.expandedKeys];\n      const n = path.length;\n      for (var i = 1; i < n; i++) {\n        path[i] = path[i - 1] + '.' + path[i];\n        if (!expandedKeys.includes(path[i - 1])) {\n          expandedKeys.push(path[i - 1]);\n        }\n      }\n      this.setState({\n        expandedKeys,\n      });\n    }\n  }\n\n  onDrop = (info) => {\n    const dropKey = info.node.props.eventKey;\n    const dragKey = info.dragNode.props.eventKey;\n    const dropPos = info.node.props.pos.split('-');\n    const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n    this.props.moveNode(dragKey, dropKey, dropPosition);\n  };\n\n  onExpand = (expandedKeys) => {\n    this.setState({\n      expandedKeys,\n    });\n  };\n\n  onChange = (e) => {\n    const { expandedKeys } = this.state;\n    const searchValue = e.target.value.trim().toLowerCase();\n    if (!searchValue) {\n      this.setState({\n        searchValue,\n        searchExpanded: [],\n      });\n      return;\n    }\n\n    let newSearchExpanded = [];\n    const loop = (data) => {\n      if (!data) return;\n      for (const item of data) {\n        if (item.name.toLowerCase().includes(searchValue)) {\n          let parents = item.key.split('.');\n          const n = parents.length;\n          for (let i = 1; i < n; i++) {\n            if (!(expandedKeys.includes(parents[i - 1]) || newSearchExpanded.includes(parents[i - 1]))) {\n              newSearchExpanded.push(parents[i - 1]);\n            }\n            parents[i] = parents[i - 1] + '.' + parents[i];\n          }\n        }\n        loop(item.children);\n      }\n    };\n    loop(this.props.tree);\n    this.setState({\n      searchValue,\n      searchExpanded: newSearchExpanded,\n    });\n  };\n\n  onBlur = () => {\n    this.setState({\n      expandedKeys: [...this.state.expandedKeys, ...this.state.searchExpanded],\n      searchExpanded: [],\n    });\n  };\n\n  render() {\n    const { tree, setActiveNode, activeNodeKey } = this.props;\n    const { searchValue, expandedKeys, searchExpanded } = this.state;\n    const loop = (data) =>\n      data.map((item) => {\n        if (item.children && item.children.length) {\n          return (\n            <TreeNode\n              key={item.key}\n              title={<TreeNodeTitle node={item} searchValue={searchValue} />}\n              isLeaf={item.isLeaf}\n            >\n              {loop(item.children)}\n            </TreeNode>\n          );\n        }\n        return (\n          <TreeNode\n            key={item.key}\n            title={<TreeNodeTitle node={item} searchValue={searchValue} />}\n            isLeaf={item.isLeaf}\n          />\n        );\n      });\n    const children = loop(tree);\n    return (\n      <div>\n        <Search placeholder=\"Search\" onChange={this.onChange} onBlur={this.onBlur} />\n        <Tree\n          className=\"form-builder-draggable-tree\"\n          expandedKeys={searchExpanded.length ? [...expandedKeys, ...searchExpanded] : expandedKeys}\n          selectedKeys={[activeNodeKey]}\n          draggable\n          onDragEnter={this.onDragEnter}\n          onDrop={this.onDrop}\n          onExpand={this.onExpand}\n          onSelect={([selected]) => setActiveNode(selected)}\n          blockNode\n        >\n          {children}\n        </Tree>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ tree: { present }, activeNodeKey }) => ({\n    tree: present,\n    activeNodeKey,\n  }),\n  (dispatch) => ({\n    moveNode: (source, target, position) =>\n      dispatch({\n        type: 'TREE_MOVE_NODE',\n        payload: {\n          source,\n          target,\n          position,\n        },\n      }),\n    removeNode: (target) =>\n      dispatch({\n        type: 'TREE_REMOVE_NODE',\n        payload: target,\n      }),\n    setActiveNode: (selectedKey) =>\n      dispatch({\n        type: 'ACTIVE_NODE_KEY_SET',\n        payload: selectedKey,\n      }),\n    updateNodeTitle: (target, name) =>\n      dispatch({\n        type: 'TREE_UPDATE_NODE',\n        payload: {\n          target: target,\n          node: { name },\n          updateMode: 1,\n        },\n      }),\n  })\n)(Demo);\n","import Tree from './Tree';\nexport default Tree;\n","import React from 'react';\nimport JsonEditor from '../JsonEditor';\nimport { Input } from 'antd';\n\nexport default class NodeJsonEditor extends React.Component {\n  static get key() {\n    return 'json-editor';\n  }\n  static get name() {\n    return 'Json';\n  }\n  static filter(node) {\n    return true;\n  }\n\n  constructor(props) {\n    super(props);\n    const { schema, uiSchema } = props;\n    this.state = {\n      schemaJsonString: JSON.stringify(schema, null, 2),\n      uiSchemaJsonString: JSON.stringify(schema, null, 2),\n      schema,\n      uiSchema,\n    };\n  }\n\n  render() {\n    const { node, updateNode } = this.props;\n    const { schema, uiSchema } = node;\n    const { properties, items, additionalItems, ...rschema } = schema;\n    return (\n      <div>\n        <Input value={node.name} onChange={(e) => updateNode({ name: e.target.value })} />\n        <JsonEditor value={rschema} onChange={(schema) => updateNode({ schema })} autoSize />\n        <JsonEditor value={uiSchema} onChange={(uiSchema) => updateNode({ uiSchema })} autoSize />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Input, InputNumber, Select, Row, Col, Button, List, Dropdown, Menu, Switch, Slider } from 'antd';\nimport { EditOutlined, CaretDownOutlined, CloseOutlined, PlusOutlined } from '@ant-design/icons';\n\nimport lodash from 'lodash';\nconst { TextArea } = Input;\nconst { Option } = Select;\n\nexport function _FormItemTemplate({ title, children }) {\n  return (\n    <Row className=\"ant-form-item\">\n      <Col className=\"ant-form-item-label\">\n        <label>{title}</label>\n      </Col>\n      <Col className=\"ant-form-item-control-wrapper\">{children}</Col>\n    </Row>\n  );\n}\n\nexport function FormItemTemplate({ title, children, remove }) {\n  return (\n    <List.Item\n      actions={\n        remove ? [<Button onClick={remove} size=\"small\" type=\"danger\" shape=\"circle\" icon={<CloseOutlined />} />] : null\n      }\n    >\n      <List.Item.Meta title={title} description={children} />\n    </List.Item>\n  );\n}\n\nclass TimeThrottle extends React.Component {\n  throttle = 1000;\n  editing = (<EditOutlined />);\n  constructor(props) {\n    super(props);\n    this.state = {\n      timer: null,\n      value: props.value,\n    };\n  }\n\n  componentWillUnmount() {\n    if (this.state.timer) {\n      clearTimeout(this.state.timer);\n      this.setState({ timer: null });\n      this.onSubmitValue(this.state.value);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.state.value) {\n      if (this.state.timer) {\n        clearTimeout(this.state.timer);\n        // this.props.onChange(this.state.value);\n      }\n      this.setState({\n        value: nextProps.value,\n        timer: null,\n      });\n    }\n  }\n\n  onChange = (value) => {\n    if (this.state.timer) {\n      clearTimeout(this.state.timer);\n    }\n    this.setState({\n      value: value,\n      timer: setTimeout(() => {\n        this.setState({ timer: null });\n        this.onSubmitValue(this.state.value);\n      }, this.throttle),\n    });\n  };\n\n  onSubmitValue(value) {\n    this.props.onChange(value);\n  }\n\n  onBlur = () => {\n    if (this.state.timer) {\n      clearTimeout(this.state.timer);\n    }\n    this.setState({\n      timer: null,\n    });\n    this.onSubmitValue(this.state.value);\n  };\n\n  onRemove = () => {\n    if (this.state.timer) {\n      clearTimeout(this.state.timer);\n    }\n    this.setState({\n      timer: null,\n    });\n    this.onSubmitValue(undefined);\n  };\n\n  render() {\n    return null;\n  }\n}\n\nclass TimeThrottleInput extends TimeThrottle {\n  render() {\n    const { title, ...rest } = this.props;\n    return (\n      <FormItemTemplate\n        title={\n          <span>\n            {title}\n            {this.state.timer ? this.editing : null}\n          </span>\n        }\n        remove={this.onRemove}\n      >\n        <Input\n          {...rest}\n          value={this.state.value}\n          onChange={(e) => this.onChange(e.target.value)}\n          onBlur={this.onBlur}\n        />\n      </FormItemTemplate>\n    );\n  }\n}\n\nclass TimeThrottleTextArea extends TimeThrottle {\n  render() {\n    const { title, ...rest } = this.props;\n    const titleElement = (\n      <span>\n        {title}\n        {this.state.timer ? this.editing : null}\n      </span>\n    );\n    return (\n      <FormItemTemplate title={titleElement} remove={this.onRemove}>\n        <TextArea\n          {...rest}\n          value={this.state.value}\n          onChange={(e) => this.onChange(e.target.value)}\n          onBlur={this.onBlur}\n        />\n      </FormItemTemplate>\n    );\n  }\n}\n\nclass TimeThrottleRange extends TimeThrottle {\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value[0] !== this.state.value[0] || nextProps.value[1] !== this.state.value[1]) {\n      if (this.state.timer) {\n        clearTimeout(this.state.timer);\n        // this.props.onChange(this.state.value);\n      }\n      this.setState({\n        value: nextProps.value,\n        timer: null,\n      });\n    }\n  }\n  onSubmitValue(value) {\n    if (!value) {\n      this.props.onChange(value);\n    }\n    let [min, max] = value;\n    if (typeof min === 'string') {\n      if (min) {\n        min = this.props.value[0];\n      } else {\n        min = undefined;\n      }\n    }\n    if (typeof max === 'string') {\n      if (max) {\n        max = this.props.value[1];\n      } else {\n        max = undefined;\n      }\n    }\n    this.props.onChange([min, max]);\n  }\n  render() {\n    const {\n      value: [min, max],\n      timer,\n    } = this.state;\n    const { title } = this.props;\n    const titleElement = (\n      <span>\n        {title}\n        {timer ? this.editing : null}\n      </span>\n    );\n    return (\n      <FormItemTemplate title={titleElement} remove={this.onRemove}>\n        <InputNumber\n          onChange={(n) => {\n            this.onChange([typeof n === 'string' && !n ? undefined : n, max]);\n          }}\n          value={min === 0 && max === undefined ? '' : min}\n          style={{ width: 100, textAlign: 'center' }}\n          placeholder=\"Minimum\"\n        />\n        <Input\n          style={{ width: 30, borderLeft: 0, pointerEvents: 'none', backgroundColor: '#fff' }}\n          placeholder=\"~\"\n          disabled\n        />\n        <InputNumber\n          onChange={(n) => {\n            this.onChange([min, typeof n === 'string' && !n ? undefined : n]);\n          }}\n          value={max}\n          style={{ width: 100, textAlign: 'center', borderLeft: 0 }}\n          placeholder=\"Maximum\"\n        />\n      </FormItemTemplate>\n    );\n  }\n}\n\nconst widgetMap = {\n  boolean: {\n    checkbox: 'CheckboxWidget',\n    radio: 'RadioWidget',\n    select: 'SelectWidget',\n    hidden: 'HiddenWidget',\n  },\n  string: {\n    text: 'TextWidget',\n    password: 'PasswordWidget',\n    // email: \"EmailWidget\",\n    // hostname: \"TextWidget\",\n    // ipv4: \"TextWidget\",\n    // ipv6: \"TextWidget\",\n    uri: 'URLWidget',\n    'data-url': 'FileWidget',\n    radio: 'RadioWidget',\n    select: 'SelectWidget',\n    textarea: 'TextareaWidget',\n    hidden: 'HiddenWidget',\n    date: 'DateWidget',\n    datetime: 'DateTimeWidget',\n    // \"date-time\": \"DateTimeWidget\",\n    'alt-date': 'AltDateWidget',\n    'alt-datetime': 'AltDateTimeWidget',\n    color: 'ColorWidget',\n    file: 'FileWidget',\n  },\n  number: {\n    text: 'TextWidget',\n    select: 'SelectWidget',\n    updown: 'UpDownWidget',\n    range: 'RangeWidget',\n    radio: 'RadioWidget',\n    hidden: 'HiddenWidget',\n  },\n  integer: {\n    text: 'TextWidget',\n    select: 'SelectWidget',\n    updown: 'UpDownWidget',\n    range: 'RangeWidget',\n    radio: 'RadioWidget',\n    hidden: 'HiddenWidget',\n  },\n  array: {\n    select: 'SelectWidget',\n    checkboxes: 'CheckboxesWidget',\n    files: 'FileWidget',\n  },\n};\n\nconst widgets = lodash(widgetMap)\n  .toPairs()\n  .flatMap(([type, widgets]) =>\n    lodash(widgets)\n      .toPairs()\n      .map(([widget]) => [widget, type])\n      .value()\n  )\n  .groupBy('0')\n  .toPairs()\n  .map(([widget, types]) => [widget, types.map((a) => a[1])])\n  .map(([widget, types]) => [\n    types.length > 1 ? ({ type }) => types.includes(type) : ((t) => ({ type }) => type === t)(types[0]),\n    widget,\n  ])\n  .map(([filter, widget]) => {\n    switch (widget) {\n      case 'select':\n      case 'radio':\n        return [(schema, uiSchema) => schema.enum && filter(schema, uiSchema), widget];\n\n      default:\n        return [filter, widget];\n    }\n  })\n  .value();\n\nfunction type({ node: { schema }, updateSchema: update }) {\n  const key = 'type';\n  const title = 'Type';\n  const availableTypes = ['string', 'number', 'integer', 'boolean'];\n  if (!availableTypes.includes(schema.type)) return [];\n  const value = (schema || {})[key];\n  return [\n    null,\n    <FormItemTemplate key={key} title={title} remove={() => update({ [key]: undefined })}>\n      <Select onChange={(value) => update({ [key]: value })} value={value} style={{ width: '100%' }}>\n        {availableTypes.map((key) => (\n          <Option key={key}>{key}</Option>\n        ))}\n      </Select>\n    </FormItemTemplate>,\n  ];\n}\n\nfunction title({ node: { schema }, updateSchema: update }) {\n  const key = 'title';\n  const title = 'Title';\n  const value = (schema || {})[key];\n  if (value === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: '' })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <TimeThrottleInput\n        key={key}\n        title={title}\n        value={value}\n        onChange={(value) => update({ [key]: value || undefined })}\n      />,\n    ];\n  }\n}\n\nfunction description({ node: { schema }, updateSchema: update }) {\n  const key = 'description';\n  const title = 'Description';\n  const value = (schema || {})[key];\n  if (value === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: '' })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <TimeThrottleTextArea\n        key={key}\n        title={title}\n        value={value}\n        onChange={(value) => update({ [key]: value || undefined })}\n        autoSize\n      />,\n    ];\n  }\n}\n\nclass ClassNamesEditor extends React.Component {\n  colSizes = ['sm', 'md', 'lg', 'xl'];\n  style = { width: '100%' };\n\n  constructor(props) {\n    super(props);\n    const value = [...new Set(this.props.value.split(' ').filter((a) => a))];\n\n    const cols = this.extractCol(value);\n    this.state = {\n      col: cols.length ? cols[0][0] : 'md',\n      value: value,\n      options: value,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.props.value) {\n      const value = nextProps.value.split(' ').filter((a) => a);\n      const { options } = this.state;\n      const newOptions = value.filter((a) => !options.includes(a));\n      this.setState({\n        value,\n        options: newOptions, //[...options, ...newOptions]\n      });\n    }\n  }\n\n  extractCol(classNames) {\n    return classNames\n      .filter((a) => a.startsWith('col-'))\n      .map((a) => a.split('-'))\n      .filter((a) => a.length === 3 && Number.isInteger(+a[2]) && this.colSizes.includes(a[1]))\n      .map(([a, b, c]) => [b, +c]);\n  }\n\n  renderMenu() {\n    return (\n      <Menu onClick={({ key }) => this.setState({ col: key })}>\n        {this.colSizes.map((a) => (\n          <Menu.Item key={a}>col-{a}-</Menu.Item>\n        ))}\n      </Menu>\n    );\n  }\n\n  sliderValue() {\n    const { value, col } = this.state;\n    return (this.extractCol(value).find((a) => a[0] === col) || [0, 0])[1];\n  }\n\n  onSliderChange = (value) => {\n    const { value: classNames, col } = this.state;\n\n    let found = false;\n    let newClassNames = classNames\n      .map((a) => {\n        let [perfix, b, v] = a.split('-');\n        if (perfix === 'col' && b === col && Number.isInteger(+v)) {\n          found = true;\n          return value ? `col-${b}-${value}` : '';\n        }\n        return a;\n      })\n      .filter((a) => a);\n    if (!found && value) {\n      newClassNames.push(`col-${col}-${value}`);\n    }\n    this.props.onChange(newClassNames.join(' '));\n  };\n\n  render() {\n    const { title, ...rest } = this.props;\n    const { options, value, col } = this.state;\n    return (\n      <FormItemTemplate title={title} remove={() => this.props.onChange(undefined)}>\n        <Row type=\"flex\" align=\"middle\">\n          <Col xs={4}>\n            <Dropdown overlay={this.renderMenu()}>\n              <Button type=\"link\">\n                {col} <CaretDownOutlined />\n              </Button>\n            </Dropdown>\n          </Col>\n          <Col xs={20}>\n            <Slider min={0} max={12} value={this.sliderValue()} onChange={this.onSliderChange} />\n          </Col>\n        </Row>\n        <Select\n          style={this.style}\n          mode=\"tags\"\n          tokenSeparators={[' ']}\n          {...rest}\n          value={value}\n          onChange={(value) => this.props.onChange(value.join(' '))}\n          onBlur={this.onBlur}\n        >\n          {options.map((a) => (\n            <Option key={a}>{a}</Option>\n          ))}\n        </Select>\n      </FormItemTemplate>\n    );\n  }\n}\n\nfunction classNames({ node: { uiSchema }, updateUiSchema: update }) {\n  const key = 'classNames';\n  const title = 'Class Names';\n  const value = (uiSchema || {})[key];\n  if (value === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: '' })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <ClassNamesEditor key={key} title={title} value={value} onChange={(value) => update({ classNames: value })} />,\n    ];\n  }\n}\n\nfunction placeholder({ node: { schema, uiSchema }, updateUiOptions: update }) {\n  if (schema.type === 'object' || schema.type === 'array') {\n    return [];\n  }\n  const key = 'placeholder';\n  const title = 'Placeholder';\n  const uiOptions = (uiSchema || {})['ui:options'];\n  const value = (uiOptions || {})[key];\n  if (value === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: '' })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <TimeThrottleInput key={key} title={title} value={value} onChange={(value) => update({ [key]: value })} />,\n    ];\n  }\n}\n\nfunction help({ node: { uiSchema }, updateUiSchema: update }) {\n  const key = 'ui:help';\n  const title = 'Help';\n  const value = (uiSchema || {})[key];\n  if (value === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: '' })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <TimeThrottleInput key={key} title={title} value={value} onChange={(value) => update({ [key]: value })} />,\n    ];\n  }\n}\n\nfunction widget({ node: { schema, uiSchema }, updateUiSchema: update }) {\n  const key = 'ui:widget';\n  const title = 'Widget';\n  const availableWidgets = widgets.filter(([f]) => f(schema || {}, uiSchema || {}));\n  if (!availableWidgets.length) return [];\n  const value = (uiSchema || {})[key];\n  if (value === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: '' })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <FormItemTemplate key={key} title={title} remove={() => update({ [key]: undefined })}>\n        <Select\n          onChange={(value) => update({ [key]: value || null })}\n          value={value}\n          style={{ width: '100%' }}\n          showSearch\n        >\n          {availableWidgets.map(([_, key]) => (\n            <Option key={key}>{key}</Option>\n          ))}\n        </Select>\n      </FormItemTemplate>,\n    ];\n  }\n}\nfunction pattern({ node: { schema }, updateSchema: update }) {\n  if (schema.type !== 'string') return [];\n  const key = 'pattern';\n  const title = 'Pattern';\n  const value = (schema || {})[key];\n  if (value === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: '' })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <TimeThrottleInput\n        key={key}\n        title={title}\n        value={value}\n        onChange={(value) => update({ [key]: value || undefined })}\n      />,\n    ];\n  }\n}\n\nfunction required({ node: { schema }, updateSchema: update }) {\n  const key = 'required';\n  const title = 'Required';\n  if (schema.type !== 'object') return [];\n  if (!schema.required) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: [] })}>\n        {title}\n      </Menu.Item>,\n    ];\n  }\n  return [\n    null,\n    <FormItemTemplate key={key} title=\"Required\" remove={() => update({ [key]: undefined })}>\n      <Select\n        mode=\"multiple\"\n        style={{ width: '100%' }}\n        onChange={(required) => update({ required })}\n        value={schema.required}\n      >\n        {Object.keys(schema.properties || {}).map((a) => (\n          <Option key={a}>{a}</Option>\n        ))}\n      </Select>\n    </FormItemTemplate>,\n  ];\n}\n\nconst rangeMeta = (match, key, title, minp, maxp) => ({ node: { schema }, updateSchema: update }) => {\n  if (!match(schema)) return [];\n  if (schema[minp] === undefined && schema[maxp] === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [minp]: 0 })}>\n        {title}\n      </Menu.Item>,\n    ];\n  }\n  return [\n    null,\n    <TimeThrottleRange\n      key={key}\n      title={title}\n      value={[schema[minp], schema[maxp]]}\n      onChange={(value) => {\n        if (!value) {\n          update({ [minp]: undefined, [maxp]: undefined });\n        } else {\n          const [min, max] = value;\n          update({\n            [minp]: min ? min : max === undefined ? 0 : undefined,\n            [maxp]: max,\n          });\n        }\n      }}\n    />,\n  ];\n};\nconst length = rangeMeta((a) => a.type === 'string', 'length', 'Length', 'minLength', 'maxLength');\nconst range = rangeMeta((a) => a.type === 'number' || a.type === 'integer', 'range', 'Range', 'minimum', 'maximum');\nconst itemRange = rangeMeta((a) => a.type === 'array', 'itemRange', 'Item Range', 'minItems', 'maxItems');\n\nfunction uniqueItems({ node: { schema }, updateSchema: update }) {\n  const key = 'uniqueItems';\n  const title = 'Unique Items';\n  if (schema.type !== 'array') return [];\n  if (schema[key] === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: true })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <List.Item\n        actions={[\n          <Button onClick={() => update({ [key]: undefined })} size=\"small\" type=\"danger\" icon={<CloseOutlined />} />,\n        ]}\n      >\n        <List.Item.Meta title={title} />\n        <Switch defaultChecked onChange={(value) => update({ [key]: value })} />\n      </List.Item>,\n    ];\n  }\n}\n\nconst [enumKey, enumName] = [\n  ['enum', 'Enum'],\n  ['enumNames', 'Enum Names'],\n].map(([key, title]) => ({ node: { schema }, updateSchema: update }) => {\n  if (schema.type !== 'string') return [];\n  if (schema[key] === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: [] })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <FormItemTemplate key={key} title={title} remove={() => update({ [key]: undefined })}>\n        <Select\n          mode=\"tags\"\n          style={{ width: '100%' }}\n          onChange={(values) => update({ [key]: values })}\n          value={schema[key]}\n        >\n          {schema[key].map((a) => (\n            <Select.Option key={a}>{a}</Select.Option>\n          ))}\n        </Select>\n      </FormItemTemplate>,\n    ];\n  }\n});\n\nconst formatOptions = ['date-time', 'email', 'hostname', 'ipv4', 'ipv6', 'uri'];\nfunction format({ node: { schema }, updateSchema: update }) {\n  const key = 'format';\n  const title = 'Format';\n  if (schema.type !== 'string') return [];\n  if (schema[key] === undefined) {\n    return [\n      <Menu.Item key={key} onClick={() => update({ [key]: [] })}>\n        {title}\n      </Menu.Item>,\n    ];\n  } else {\n    return [\n      null,\n      <FormItemTemplate key={key} title={title} remove={() => update({ [key]: undefined })}>\n        <Select style={{ width: '100%' }} onChange={(value) => update({ [key]: value })} value={schema[key]}>\n          {formatOptions.map((a) => (\n            <Option key={a}>{a}</Option>\n          ))}\n        </Select>\n      </FormItemTemplate>,\n    ];\n  }\n}\n\nexport default class BasicEditor extends React.Component {\n  static get key() {\n    return 'basic-editor';\n  }\n\n  static get name() {\n    return 'Basic';\n  }\n\n  static filter(node) {\n    return node.schema;\n  }\n\n  name() {\n    return null;\n  }\n\n  render() {\n    const l = [\n      type,\n      title,\n      description,\n      required,\n      widget,\n      classNames,\n      help,\n      placeholder,\n      enumKey,\n      enumName,\n      pattern,\n      length,\n      range,\n      itemRange,\n      uniqueItems,\n      format,\n    ].map((f) => f(this.props));\n\n    const addable = l.map((a) => a[0]).filter((a) => a);\n    const editable = l.map((a) => a[1]).filter((a) => a);\n\n    if (addable.length) {\n      editable.push(\n        <List.Item key=\"addButton\">\n          <Dropdown trigger={['click']} overlay={<Menu>{addable}</Menu>}>\n            <Button style={{ width: '100%' }} type=\"primary\" icon={<PlusOutlined />} />\n          </Dropdown>\n        </List.Item>\n      );\n    }\n\n    return <List itemLayout=\"horizontal\" dataSource={editable} renderItem={(a) => a} />;\n  }\n\n  _render() {\n    return (\n      <form className=\"ant-form ant-form-horizontal\">\n        {this.name()}\n        <fieldset>\n          <legend>Schema</legend>\n          {this.title()}\n          {this.description()}\n        </fieldset>\n        <fieldset>\n          <legend>uiSchema</legend>\n          {this.widgets()}\n          {this.classNames()}\n          {this.help()}\n        </fieldset>\n      </form>\n    );\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Tabs } from 'antd';\nimport JsonEditor from './JsonEditor';\nimport BasicEditor from './BasicEditor';\n\nconst { getNode } = require('../core');\nconst { TabPane } = Tabs;\n\nconst editorList = [BasicEditor, JsonEditor];\n\nclass Editor extends React.Component {\n  updateUiOptions = (uiOptionsUpdate) => {\n    const { uiSchema = {}, key } = this.props.node;\n    const uiOptions = uiSchema['ui:options'] || {};\n    const newUiOptions = { ...uiOptions, ...uiOptionsUpdate };\n    for (const i in newUiOptions) {\n      if (newUiOptions[i] !== undefined) {\n        this.props.updateNode(key, { uiSchema: { ...uiSchema, 'ui:options': { ...uiOptions, ...newUiOptions } } });\n        return;\n      }\n    }\n    this.props.updateNode(key, { uiSchema: { ...uiSchema, 'ui:options': undefined } });\n  };\n\n  render() {\n    const { node, updateNode } = this.props;\n    if (!(node && node.schema)) return null;\n    const filteredEditors = editorList.filter((a) => a.filter(node));\n    return (\n      <>\n        <Tabs defaultActiveKey={filteredEditors[0].key} type=\"card\">\n          {filteredEditors.map((Editor) => (\n            <TabPane tab={Editor.name} key={Editor.key}>\n              <div style={{ margin: '0px 16px' }}>\n                <Editor\n                  key={node.key}\n                  node={node}\n                  updateNode={(nodeUpdate) => updateNode(node.key, nodeUpdate)}\n                  updateSchema={(schemaUpdate) => updateNode(node.key, { schema: { ...node.schema, ...schemaUpdate } })}\n                  updateUiSchema={(uiSchemaUpdate) =>\n                    updateNode(node.key, { uiSchema: { ...node.uiSchema, ...uiSchemaUpdate } })\n                  }\n                  updateUiOptions={this.updateUiOptions}\n                />\n              </div>\n            </TabPane>\n          ))}\n        </Tabs>\n        <p>Click on the selected form in the left sidebar to push this drawer in.</p>\n      </>\n    );\n  }\n}\n\nexport default connect(\n  ({ tree: { present }, activeNodeKey }) => ({\n    node: activeNodeKey && getNode(present, activeNodeKey),\n  }),\n  (dispatch) => ({\n    updateNode: (target, nodeUpdate) =>\n      dispatch({\n        type: 'TREE_UPDATE_NODE',\n        payload: {\n          target,\n          nodeUpdate,\n        },\n      }),\n  })\n)(Editor);\n","import React from 'react';\nimport {instance as api} from \"../../axios\";\nimport { connect } from 'react-redux';\nimport { Button, Tooltip, Modal, notification, List } from 'antd';\nimport { FolderOpenOutlined, SaveOutlined, UndoOutlined, RedoOutlined } from '@ant-design/icons';\nimport { ActionTypes } from 'redux-undo';\nimport './index.css';\n\nconst buttonStyle = { marginLeft: 8 };\nclass Toolbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false,\n      templates: [],\n      categories: [],\n      templateId: null,\n      categoryId: null\n    };\n  }\n\n  async componentDidMount() {\n    const { data: templates } = await api.get(\n      \"/templates\"\n    );\n    const templateProperties = {\n      categoryId: this.props.category,\n      templateId: this.props.template\n    }\n    this.setState({ templates, ...templateProperties });\n    if (templateProperties.templateId !== null)\n      this.renderThisTemplate(templateProperties.templateId)\n    else {\n      let schema = {\n        type: \"object\",\n        properties: {\n          name: {\n            type: \"string\",\n            title: \"name\"\n          },\n          image: {\n            type: \"string\",\n            title: \"Image\"\n          }\n        }\n      },\n      uiSchema = {}\n      const { data: category } = await api.get('/categories/'+this.state.categoryId)\n      console.log(category)\n      // Will receive category_name to add in name of template\n      let name=`${category.name}-template`;\n      this.props.setTree({name, schema, uiSchema});\n    }\n  }\n\n  newTemplate = () => {\n    this.setState({ templateId: null })\n  }\n\n  save = async () => {\n    const {name , schema, uiSchema } = this.props.tree.present[0];\n    const body = {\n        name,\n        category_id: this.state.categoryId,\n        formSchema: JSON.stringify(schema),\n        uiSchema: (uiSchema !== undefined) ? JSON.stringify(uiSchema) : \"\",\n      };\n    try {\n      let resp;\n      console.log(body)\n      if(this.state.templateId === null) {\n        resp = await api.post(\n          \"/templates\",\n          body\n        );\n      } else {\n        resp = await api.patch(\n          \"/templates\",\n          {...body, id: this.state.templateId}\n        );\n      }\n      const response = resp.status;\n      if (response === 201) {\n        notification.open({\n          message: 'Template Created',\n          description:\n          'Your new template was added to the database.'\n        });\n      } else if (response === 200) {\n        notification.open({\n          message: 'Template Update',\n          description:\n            'Your new template was updated in the database.'\n        });\n      }\n    } catch (e) {\n      console.log(e);\n      notification.open({\n        message: 'Sorry, Template could not be created.',\n        description: 'There was some error in the backend'\n      })\n    }\n  };\n\n  showTemplates = async () => {\n    let { data: categories } = await api.get(\n      \"/categories\"\n    );\n    categories = categories.filter(category => category !== null && category.template_id !== null)\n    this.setState({\n      visible: true,\n      categories\n    });\n  };\n\n  handleOk = (e) => {\n    this.setState({\n      visible: false,\n    });\n  };\n\n  renderThisTemplate = async (_id) => {\n    let [thisTemplate] = this.state.templates.filter(template => template._id === _id)\n    let schema = JSON.parse(thisTemplate.formSchema), uiSchema = {}, name = thisTemplate.name\n    if (thisTemplate.uiSchema !== \"\") {\n      uiSchema = JSON.parse(thisTemplate.uiSchema)\n    }\n    this.props.setTree({ name, schema, uiSchema });\n    this.setState({ visible: false, existingTemplate: true, templateId: thisTemplate._id })\n  }\n\n  render() {\n    const { tree, undo, redo } = this.props;\n    const { past, future } = tree;\n    return (\n      <span>\n        {/* <Tooltip title=\"New\" onClick={this.newTemplate}>\n          <Button\n            style={buttonStyle}\n            onClick={newForm}\n            icon={<FileAddOutlined />}\n          />\n        </Tooltip> */}\n        <Tooltip title=\"Open\">  \n          <Button\n            style={buttonStyle}\n            onClick={() => this.showTemplates()}\n            icon={<FolderOpenOutlined />}\n          >\n            Open\n          </Button>\n        </Tooltip>\n        <Tooltip title=\"Save\">\n          <Button\n            style={buttonStyle}\n            onClick={() => {\n              Modal.confirm({\n                title: 'Confirm',\n                content: `Are you sure you want to ${this.state.templateId === null ? 'save' : 'update'} this Template?`,\n                okText: 'OK',\n                cancelText: 'Cancel',\n                onOk: () => this.save()\n              });\n            }}\n            icon={<SaveOutlined />}\n          >\n            {this.state.templateId === null ? 'Save' : 'Update'}\n          </Button>\n        </Tooltip>\n        <Tooltip title=\"Undo\">\n          <Button\n            style={buttonStyle}\n            onClick={undo}\n            disabled={!past.length}\n            icon={<UndoOutlined />}\n          >\n            Undo\n          </Button>\n        </Tooltip>\n        <Tooltip title=\"Redo\">\n          <Button\n            style={buttonStyle}\n            onClick={redo}\n            disabled={!future.length}\n            icon={<RedoOutlined />}\n          >\n            Redo\n          </Button>\n        </Tooltip>\n        <Modal\n          title=\"View Existing Templates by Category\"\n          visible={this.state.visible}\n          onOk={this.handleOk}\n          onCancel={this.handleOk}\n          footer={[\n            <Button key=\"back\" onClick={this.handleOk}>\n              Okay\n            </Button>,\n          ]}\n        >\n          <List\n            bordered\n            dataSource={this.state.categories}\n            renderItem={item => (\n              <List.Item \n                className=\"template-list\" \n                onClick={() => this.renderThisTemplate(item.template_id)}\n              >\n                {item.name}\n              </List.Item>\n            )}\n          />\n        </Modal>\n      </span>\n    );\n  }\n}\n\nexport default connect(\n    ({ tree, settings }) => ({ tree, settings }),\n    (dispatch) => ({\n        newForm: () =>\n            dispatch({\n                type: 'TREE_CLEAR',\n            }),\n        setTree: (payload) =>\n            dispatch({\n                type: 'TREE_SET_TREE',\n                payload,\n            }),\n        undo: () => dispatch({ type: ActionTypes.UNDO }),\n        redo: () => dispatch({ type: ActionTypes.REDO }),\n        updateSettings: (subViews) =>\n        // This function was needed before when a select search bar to toggle subviews of \n        // schema, ui-schema and formData was used in this component. \n            dispatch({\n                type: 'SETTINGS_UPDATE',\n                payload: { subViews },\n            }),\n    })\n)(Toolbar);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Slider, Switch, Button, List, Modal } from 'antd';\nconst { confirm } = Modal;\n\nconst tipFormatter = ((flag = false) => (number) => {\n    flag = !flag;\n    return flag ? number : window.innerWidth - number;\n})();\n\nclass Settings extends React.Component {\n    siderWidth() {\n        const { leftSiderWidth, rightSiderWidth } = this.props.settings;\n        return {\n            key: 'sider-width',\n            title: 'Sider Width',\n            description: (\n                <Slider\n                    included\n                    min={0}\n                    max={window.innerWidth}\n                    tipFormatter={tipFormatter}\n                    range\n                    value={[leftSiderWidth, window.innerWidth - rightSiderWidth]}\n                    onChange={([left, right]) => {\n                        this.props.updateSettings({\n                            leftSiderWidth: left > 200 ? left : 200,\n                            rightSiderWidth: window.innerWidth - right,\n                        });\n                    }}\n                />\n            ),\n        };\n    }\n\n    formWidth() {\n        return {\n            key: 'form-item',\n            title: 'Form Width',\n            description: (\n                <Slider\n                    min={0}\n                    max={window.innerWidth}\n                    value={this.props.settings.formWidth}\n                    onChange={(value) => {\n                        this.props.updateSettings({\n                            formWidth: value,\n                        });\n                    }}\n                />\n            ),\n        };\n    }\n\n    inlineMode() {\n        return {\n            key: 'inline-mode',\n            title: 'Inline Mode',\n            actions: [\n                <Switch\n                    onChange={(v) => this.props.updateSettings({ isInlineMode: v })}\n                    checked={this.props.settings.isInlineMode}\n                />,\n            ],\n        };\n    }\n\n    liveValidate() {\n        return {\n            key: 'live-validate',\n            title: 'Live Validate',\n            actions: [\n                <Switch\n                    onChange={(v) => this.props.updateSettings({ isLiveValidate: v })}\n                    checked={this.props.settings.isLiveValidate}\n                />,\n            ],\n        };\n    }\n\n    menu() {\n        const { setTree, rootNode, setMenu, menu } = this.props;\n        return {\n            key: 'menu',\n            title: 'Menu',\n            description: [\n                <Button key=\"edit\" onClick={() => setTree(menu)}>\n                    Customize\n        </Button>,\n                <Button key=\"set\" onClick={() => setMenu(rootNode)}>\n                    Apply Change\n        </Button>,\n            ],\n        };\n    }\n\n    reset() {\n        return {\n            key: 'reset',\n            description: (\n                <Button\n                    type=\"danger\"\n                    sytle={{ width: '100%' }}\n                    key=\"edit\"\n                    onClick={() => {\n                        confirm({\n                            title: 'Reset Form Buiilder?',\n                            content: 'Removing persistent data from local storage.\\n All settings and unsaved form will be lost.',\n                            okText: 'Continue',\n                            okType: 'danger',\n                            closable: true,\n                            maskClosable: true,\n                            onOk() {\n                                window.localStorage.removeItem('persist:react-jsonschema-formbuilder');\n                                window.location.reload();\n                            },\n                        });\n                    }}\n                >\n                    Reset Form Builder\n                </Button>\n            ),\n        };\n    }\n\n    listItems() {\n        return [this.siderWidth(), this.formWidth(), this.inlineMode(), this.liveValidate(), this.menu(), this.reset()];\n    }\n\n    renderItem(a) {\n        const {\n            Item,\n            Item: { Meta },\n        } = List;\n        return (\n            <Item key={a.key} actions={a.actions}>\n                <Meta title={a.title} description={a.description} />\n            </Item>\n        );\n    }\n\n    render() {\n        return <List itemLayout=\"horizontal\" dataSource={this.listItems()} renderItem={this.renderItem} />;\n    }\n}\n\nexport default connect(\n    ({\n        settings,\n        tree: {\n            present: [rootNode],\n        },\n        menu,\n    }) => ({ settings, rootNode, menu }),\n    (dispatch) => ({\n        updateSettings: (payload) =>\n            dispatch({\n                type: 'SETTINGS_UPDATE',\n                payload,\n            }),\n        setTree: ({ schema, uiSchema }) =>\n            dispatch({\n                type: 'TREE_SET_TREE',\n                payload: {\n                    name: 'menu',\n                    schema,\n                    uiSchema,\n                },\n            }),\n        setMenu: ({ schema, uiSchema }) =>\n            dispatch({\n                type: 'MENU_SET',\n                payload: {\n                    schema,\n                    uiSchema,\n                },\n            }),\n    })\n)(Settings);\n","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport './css';\nimport { Layout, Tabs, Card } from 'antd';\nimport Tree from './Tree';\nimport { FormView, SchemaView, UiSchemaView } from \"./views\";\nimport NodeEditor from './Editor';\nimport Toolbar from './Toolbar';\nimport Settings from './Settings';\nconst { Header, Sider, Content } = Layout;\nconst { TabPane } = Tabs;\n\nclass NewTemplate extends Component {\n    state = {\n        collapsed: false,\n        categoryId: null,\n        templateId: null\n    };\n    componentWillMount() {\n      this.props.setFormData({ formData: {} })\n      this.props.defaultMenu();\n    }\n    componentDidMount () {\n      // To remove the inline icons (Delete, etc) which are present in Template page\n      this.props.updateSettings({ isInlineMode: true })\n      const query = new URLSearchParams(this.props.location.search)\n      let categoryId = query.get('category'), templateId = query.get('template')\n      this.setState({categoryId, templateId})\n    }\n    toggle = () => {\n        this.setState({\n            collapsed: !this.state.collapsed,\n        });\n    };\n    render() {\n        const { settings } = this.props;\n        return (\n            <Layout>\n                <Sider\n                    trigger={null}\n                    collapsible\n                    collapsed={this.state.collapsed}\n                    width={settings.leftSiderWidth}\n                    style={{\n                        background: '#fff',\n                        padding: 0,\n                        overflow: 'auto',\n                        boxShadow: '0 2px 3px 0 rgba(0, 0, 0, 0.2), 0 2px 3px 0 rgba(0, 0, 0, 0.2)',\n                        height: '100vh',\n                        position: 'fixed',\n                        left: 0,\n                    }}\n                >\n                    <Tabs defaultActiveKey=\"0\" size=\"small\" type=\"card\">\n                        <TabPane tab=\"Editor\" style={{ padding: '8px' }} key=\"0\">\n                            <Tree />\n                        </TabPane>\n                        <TabPane tab=\"Settings\" style={{ padding: '8px' }} key=\"1\">\n                            <Settings />\n                        </TabPane>\n                    </Tabs>\n                </Sider>\n                <Layout style={{ marginLeft: settings.leftSiderWidth }}>\n                    <Header style={{ background: '#fff', padding: 0 }}>\n                        <Toolbar category={this.state.categoryId} template={this.state.templateId}/>\n                    </Header>\n                    <Content style={{ minHeight: 280, padding: '12px 8px' }}>\n                        <Card\n                            bordered={false}\n                            style={{ width: settings.formWidth, margin: '12px 8px', display: 'inline-block', verticalAlign: 'top' }}\n                        >\n                            <FormView />\n                        </Card>\n                        {/* {(settings.subViews || []).map((a) => {\n                            const style = { margin: '12px 8px', width: 400, display: 'inline-block', verticalAlign: 'top' };\n                            switch (a) {\n                              case \"schema\":\n                                return (\n                                  <Card\n                                    key=\"schema\"\n                                    title=\"Schema\"\n                                    style={style}\n                                  >\n                                    <SchemaView />\n                                  </Card>\n                                );\n                              case \"uiSchema\":\n                                return (\n                                  <Card\n                                    key=\"uischema\"\n                                    title=\"UiSchema\"\n                                    style={style}\n                                  >\n                                    <UiSchemaView />\n                                  </Card>\n                                );\n                              default:\n                                return <div key=\"null\" />;\n                            }\n                        })} */}\n                    </Content>\n                </Layout>\n              <Sider\n                width={this.props.activeNodeKey ? settings.rightSiderWidth : 0}\n                style={{\n                  overflow: 'auto',\n                  background: '#fff',\n                  boxShadow: '0 2px 3px 0 rgba(0, 0, 0, 0.2), 0 2px 3px 0 rgba(0, 0, 0, 0.2)',\n                  position: 'fixed',\n                  height: '100vh',\n                  right: 0,\n                }}\n              >\n                <NodeEditor />\n              </Sider>\n            </Layout>\n        );\n    }\n}\n\nexport default connect(({ activeNodeKey, settings }) => ({\n  activeNodeKey,\n  settings,\n}), (dispatch) => ({\n  setFormData: ({ formData }) =>\n    dispatch({\n      type: 'FORM_DATA_SET',\n      payload: formData,\n    }),\n    updateSettings: (payload) =>\n      dispatch({\n        type: 'SETTINGS_UPDATE',\n        payload,\n      }),\n    defaultMenu: () =>\n      dispatch({\n        type: 'MENU_DEFAULT',\n        payload: {},\n      }),\n}))(NewTemplate);\n\n// export default NewTemplate;","import React, { useEffect, useState } from 'react';\nimport { Table, Button, notification, Modal, Skeleton } from 'antd';\n\nimport { instance as api } from '../../../axios';\nimport './list.css';\n\nconst List = () => {\n\n    const [data, setData] = useState()\n    const [tableColumns, setColumns] = useState()\n    const [fetching, setFetch] = useState(true)\n\n    useEffect(() => {\n        (async () => {\n            try {\n                let { data: templates } = await api.get('/templates')\n                templates = templates.filter(el => el.category_id !== null);\n                templates = templates.map((el) => {\n                    return {\n                        name: el.name,\n                        category: el.category_id.name,\n                        key: el._id,\n                        category_id: el.category_id._id\n                    };\n                });\n                setData(templates)\n                const columns = [\n                    {\n                        title: 'Template Name',\n                        dataIndex: 'name',\n                        key: 'name'\n                    },\n                    {\n                        title: 'Category',\n                        dataIndex: 'category',\n                        key: 'category'\n                    },\n                    {\n                        title: 'View/Edit',\n                        key: 'view/edit',\n                        fixed: 'right',\n                        render: (item) => {\n                            return (<Button\n                                href={`/template?category=${item.category_id}&template=${item.key}`}\n                            >\n                                View/Edit\n                            </Button>)\n                        }\n                    }\n                ]\n                setColumns(columns);\n                setFetch(false);\n            } catch (e) {\n                console.log(e);\n                notification['error']({\n                    message: 'An Error Occurred',\n                    description: 'There was an error while displaying products.'\n                })\n            }\n        })();\n    }, []);\n    return (\n        <div className=\"container main-container\">\n            <h3>Listing all Templates</h3>\n            {fetching === true ? <Skeleton active /> : <Table dataSource={data} columns={tableColumns} />}\n        </div>\n    )\n}\n\nexport default List;","import React, { Component } from 'react';\nimport { Table, Button, notification, Spin, Space } from 'antd';\nimport { connect } from 'react-redux';\nimport { instance as api } from '../../../axios';\nimport './ProductList.css';\n\nclass ProductList extends Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            templateId: null,\n            categoryId: null,\n            dataFetching: true,\n            products: {\n                data: [],\n                names: []\n            },\n            columns: []\n        }\n    }\n\n    async componentDidMount () {\n    try {\n        const query = new URLSearchParams(this.props.location.search)\n        let categoryId = query.get('category');\n        let products = []\n        if (categoryId !== null){\n            this.setState({categoryId})\n            let { data } = await api.get(\"/product/category/\"+categoryId)\n            products = data\n            if(products.length !== 0)\n                this.setState({templateId: products[0].template})\n        } else {\n            let { data } = await api.get(\"/product/\")\n            console.log(data)\n            products = data\n        }\n        // For earlier products that didn't have any data\n        products = products.filter(prod => prod.data !== \"{}\")\n        const data = products.map(product => {\n            return JSON.parse(product.data);\n        })\n        const names = products.map(product => {\n            if(product.name === undefined) {\n                // For earlier products that didn't have manuf, model defined.\n                product.name = '--Not defined--'\n            }\n            let updates = product.meta.update;\n            return {\n                name: product.name,\n                image:product.image,\n                description:product.description,\n                price:product.price, \n                data: JSON.parse(product.data), \n                created_at: product.meta.created_at,\n                updated_at: updates.length > 0 ? updates.slice(updates.length-1)[0].updated_at : '-',\n                template: product.template,\n                category: product.category,\n                id: product._id,\n                key: product._id\n            };\n        })\n        const columns = [\n            {\n                title: 'Name', \n                dataIndex: 'name', \n                key: 'name',\n                filters: names.map(prod => ({text: prod.name, value: prod.name}))\n            }, {\n                title: 'Created At',\n                dataIndex: 'created_at',\n                key: 'created_at',\n                defaultSortOrder: 'descend',\n                sorter: (a, b) => new Date(a.created_at) - new Date(b.created_at),\n            }, {\n                title: 'Update At',\n                dataIndex: 'updated_at',\n                key: 'updated_at',\n                sorter: (a, b) => new Date(a.updated_at) - new Date(b.updated_at),\n            }\n        ]\n        columns.push({\n            title: 'Add a product using existing product',\n            key: 'name',\n            width: 200,\n            render: (item) => {\n                return (<Button onClick={async (e) => {\n                    let a = await this.props.setFormData({ formData: item.data });\n                    // Due to asynchronous behaviour, the above line does not work without the setTimeout \n                    if (typeof a === 'object') {\n                        setTimeout(() => {\n                            let path = `addproduct?category=${item.category._id}&template=${item.template._id}`;\n                            window.location.href = path;\n                        }, 1000)\n                    }\n                }}>Make a Copy</Button>)\n            },\n        }, {\n            title: 'Make changes to existing product',\n            key: 'name',\n            width: 200,\n            render: (item) => {\n                return (<Button\n                    onClick={async (e) => {\n                    let a = await this.props.setFormData({ formData: item.data })\n                    // Due to asynchronous behaviour, the above line does not work without the setTimeout\n                    if (typeof a === 'object') {\n                        setTimeout(() => {\n                            let path = `addproduct?category=${item.category._id}&template=${item.template._id}&product=${item.id}`\n                            window.location.href = path;\n                        }, 1000)\n                    }\n                }}>Edit</Button>)\n            },\n        }, {\n            title: 'Delete Product',\n            key: 'name',\n            fixed: 'right',\n            width: 100,\n            render: (item) => {\n                return (<Button onClick={async (e) => {\n                    const resp = await api.delete(`/product/${item.category._id}/${item.id}`)\n                    if(resp.status === 204) {\n                        notification['success']({\n                            message: 'Product Deleted',\n                            description: 'This product was deleted from the database.'\n                        })\n                    } else {\n                        notification['error']({\n                            message: 'An Error Occurred',\n                            description: 'There was an error while deleting this product.'\n                        })\n                    }\n                }}>Remove Product</Button>\n                )\n            }\n        })\n        this.setState({products: {data, names}, columns, dataFetching: false})\n    } catch (e) {\n        console.log(e);\n        notification['error']({\n            message: 'An Error Occurred',\n            description: 'There was an error while displaying products.'\n        })\n    }\n    }\n\n    render() {\n        return (\n        <div className=\"container main-container\">\n            <h3>{this.state.templateId ? 'Listing Products based on Template' : 'Listing all Products'}</h3>\n        <div style={{ display: 'flex' }}>\n                    {!this.state.dataFetching ? <Table dataSource={this.state.products.names} columns={this.state.columns} /> : <Space size=\"middle\"><Spin /></Space>}\n        </div>\n        {this.state.categoryId && this.state.templateId ? (\n            <Button\n                style={{marginLeft: '45%'}}\n                href={`/addproduct?template=${this.state.templateId}&category=${this.state.categoryId}`}\n            >\n            Add Product\n            </Button>\n        ): null}\n        </div>\n        )\n    }\n}\n\nexport default connect(({\n    formData\n}) => ({\n    formData\n}), (dispatch) => ({\n    setFormData: ({ formData }) =>\n        dispatch({\n            type: 'FORM_DATA_SET',\n            payload: formData,\n        }),\n}))(ProductList);","import { schema2tree, schema2node, removeNode, addNode, moveNode, updateNode, getNodeByRjsfId } from './core';\nimport defaultSettings from './default/settings';\nimport defaultMenuSchema from './default/menu';\nimport defaultOptions from './default/options';\nimport undoable from 'redux-undo';\nimport { includeAction } from 'redux-undo';\nimport { combineReducers } from 'redux';\n\nconst defaultMenu = schema2node(['menu'], defaultMenuSchema.schema, defaultMenuSchema.uiSchema);\nconst DEFAULT_TREE_NAME = 'root';\n\nconst emptyTree = schema2tree(DEFAULT_TREE_NAME, { type: 'object', properties: {\n  accuracy: {\n    type: 'string',\n    title: 'Accuracy'\n  },\n  limit: {\n    type: 'string',\n    title: 'Limit'\n  }\n} });\n\nfunction tree(state = emptyTree, action) {\n  switch (action.type) {\n    case 'TREE_CLEAR':\n      return emptyTree;\n    case 'TREE_SET_TREE': {\n      const { name, schema, uiSchema } = action.payload;\n      return schema2tree(\n        name || (state[0] && state[0].name) || DEFAULT_TREE_NAME,\n        schema || state[0].schema,\n        uiSchema || state[0].uiSchema\n      );\n    }\n    case 'TREE_ADD_NODE': {\n      const { targetNodeKey, position, node2add } = action.payload;\n      return addNode(state, targetNodeKey, position, node2add);\n    }\n    case 'TREE_REMOVE_NODE':\n      const newState = removeNode(state, action.payload);\n      return newState.length ? newState : emptyTree;\n    case 'TREE_MOVE_NODE': {\n      const { source, target, position } = action.payload;\n      return moveNode(state, source, target, position);\n    }\n    case 'TREE_UPDATE_NODE': {\n      const { target, nodeUpdate } = action.payload;\n      const newState = updateNode(state, target, nodeUpdate);\n      return newState;\n    }\n    default:\n      return state;\n  }\n}\n\nfunction activeNodeKey(state = null, action) {\n  switch (action.type) {\n    case 'ACTIVE_NODE_KEY_SET':\n      return action.payload || null;\n    case 'TREE_UPDATE_NODE':\n      const { target, nodeUpdate } = action.payload;\n      if (state === target && nodeUpdate.name) {\n        const path = state.split('.');\n        if (path[path.length - 1] !== nodeUpdate.name) {\n          return path.slice(0, -1).join('.') + '.' + nodeUpdate.name;\n        }\n      }\n      return state;\n    case 'TREE_SET_TREE':\n    case 'TREE_CLEAR':\n      return null;\n    default:\n      return state;\n  }\n}\n\nfunction formData(state = {}, action) {\n  switch (action.type) {\n    case 'FORM_DATA_SET':\n      return action.payload;\n    default:\n      return state;\n  }\n}\n\nfunction settings(state = defaultSettings, action) {\n  switch (action.type) {\n    case 'SETTINGS_UPDATE':\n      return Object.assign({}, state, action.payload);\n    default:\n      return state;\n  }\n}\n\nfunction menu(state = defaultMenu, action) {\n  switch (action.type) {\n    case 'MENU_SET': {\n      const { schema, uiSchema } = action.payload;\n      return schema2node(['menu'], schema, uiSchema);\n    }\n    case 'MENU_DEFAULT': {\n      return defaultMenu;\n    }\n    default:\n      return state;\n  }\n}\n\nfunction menuOpenKeys(state = [], action) {\n  switch (action.type) {\n    case 'MENU_OPEN_KEYS_SET':\n      return action.payload;\n    default:\n      return state;\n  }\n}\n\nfunction options(state = defaultOptions, action) {\n  switch (action.type) {\n    case 'SET_OPTIONS':\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n}\n\nfunction removeUnnecessaryHistory(reducer) {\n  return (state, action) => {\n    let newState = reducer(state, action);\n    delete newState.history;\n    return newState;\n  };\n}\n\nvar reducer = combineReducers({\n  tree: removeUnnecessaryHistory(\n    undoable(tree, {\n      filter: includeAction([\n        'TREE_UPDATE_NODE',\n        'TREE_SET_TREE',\n        'TREE_CLEAR',\n        'TREE_ADD_NODE',\n        'TREE_REMOVE_NODE',\n        'TREE_MOVE_NODE',\n      ]),\n    })\n  ),\n  activeNodeKey,\n  settings,\n  menu,\n  formData,\n  menuOpenKeys,\n  options,\n});\n\nexport default function (state, action) {\n  switch (action.type) {\n    case 'TREE_REMOVE_NODE_BY_RJSF_ID': {\n      const target = getNodeByRjsfId(state.tree.present, action.payload);\n      if (!target) return state;\n      action = {\n        type: 'TREE_REMOVE_NODE',\n        payload: target.key,\n      };\n      break;\n    }\n    case 'ACTIVE_NODE_KEY_SET_BY_RJSF_ID': {\n      const target = getNodeByRjsfId(state.tree.present, action.payload);\n      if (!target) return state;\n      action = {\n        type: 'ACTIVE_NODE_KEY_SET',\n        payload: target.key,\n      };\n      break;\n    }\n    case 'TREE_UPDATE_NODE_BY_RJSF_ID': {\n      const { rjsfId } = action.payload;\n      const target = getNodeByRjsfId(state.tree.present, rjsfId);\n      if (!target) return state;\n      action = {\n        type: 'TREE_UPDATE_NODE',\n        payload: { ...action.payload, target: target.key },\n      };\n      break;\n    }\n    default:\n      break;\n  }\n  return reducer(state, action);\n}\n","import { createStore } from 'redux';\nimport reducer from './reducers';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport hardSet from 'redux-persist/lib/stateReconciler/hardSet';\nvar persistConfig = {\n  key: 'react-jsonschema-formbuilder',\n  storage,\n  stateReconciler: hardSet,\n  throttle: 15,\n};\n\nvar { schema2tree } = require('./core');\n\nvar form = {\n  schema: {\n    title: 'Template Form',\n    description: 'A simple form example.',\n    type: 'object',\n    required: ['name', 'image'],\n    properties: {\n      name: {\n        type: 'string',\n        title: 'Product Name',\n      },\n      image: {\n        type: 'string',\n        title: 'Image Link',\n      },\n      price: {\n        type: 'integer',\n        title: 'Price',\n      },\n      description: {\n        type: 'string',\n        title: 'Description',\n      },\n     \n    },\n  },\n  uiSchema: {\n    name: {\n      'ui:emptyValue': '',\n    },\n    image: {\n      'ui:emptyvalue':'',\n    },\n    price: {\n      'ui:emptyvalue':'',\n    },\n    description: {\n      'ui:emptyvalue':'',\n    },\n    date: {\n      'ui:widget': 'alt-datetime',\n    },\n   \n  },\n};\n\nvar initTree = schema2tree('root', form.schema, form.uiSchema);\n\nvar persistedReducer = persistReducer(persistConfig, reducer);\n\nvar store = createStore(persistedReducer, {\n  tree: {\n    past: [],\n    present: initTree,\n    future: [],\n  },\n});\n\nvar persistor = persistStore(store);\n\nexport { store, persistor };\nexport default { store, persistor };\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport './App.css';\nimport \"./index.css\";\nimport Category from './items/Categories/Categories';\nimport Products from './items/Products';\nimport NewTemplate from './items/ProductTemplates/Templates.jsx';\nimport List from './items/ProductTemplates/List';\nimport ProductList from './items/Products/List/ProductList';\n\nimport { Provider, connect } from \"react-redux\";\nimport { store, persistor } from \"./items/ProductTemplates/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { Menu, Layout } from \"antd\";\nimport {\n  ContainerOutlined,\n  UnorderedListOutlined,\n  DatabaseFilled,\n} from \"@ant-design/icons\";\n\nconst { Content } = Layout;\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: \"category\",\n    };\n  }\n\n  componentWillMount () {\n    const pathname = window.location.pathname,\n      secondslash = pathname.indexOf('/', 1) > 0 ? pathname.indexOf('/', 1) + 1 : -1; \n    let location;\n    if (secondslash === -1) {\n      location = pathname.slice(1);\n    } else {\n      location = pathname.slice(1, secondslash);\n    }\n    location = location === '' ? 'category' : location;\n    location = location === 'addproduct' ? 'product' : location;\n    location = location === 'viewtemplates' ? 'template' : location;\n    this.setState({ current: location })\n  }\n\n  handleClick = (e) => {\n    console.log(\"click \", e);\n    this.setState({ current: e.key });\n  };\n\n  render() {\n    const { current } = this.state;\n    return (\n      <Router>\n        <div className=\"App\">\n          <Menu\n            theme=\"dark\"\n            onClick={this.handleClick}\n            selectedKeys={[current]}\n            mode=\"horizontal\"\n          >\n            <Menu.Item key=\"category\" icon={<UnorderedListOutlined />}>\n              <Link to=\"/category\">Categories</Link>\n            </Menu.Item>\n            <Menu.Item key=\"template\" icon={<ContainerOutlined />}>\n              <Link to=\"/viewtemplates\">Product Templates</Link>\n            </Menu.Item>\n            <Menu.Item key=\"product\" icon={<DatabaseFilled />}>\n              <Link to=\"/product\">Products</Link>\n            </Menu.Item>\n          </Menu>\n          <Layout>\n            <Content>\n              <Route path={[\"/category\", \"/\"]} exact>\n                <Category />\n              </Route>\n              <Route path=\"/template\" component={NewTemplate} />\n              <Route path=\"/viewtemplates\" component={List} />\n              <Route path=\"/product\" component={ProductList} />\n              <Route path=\"/addproduct/\" component={Products} />\n            </Content>\n          </Layout>\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst AppContainer = connect(({ activeNodeKey, settings }) => ({\n  activeNodeKey,\n  settings,\n}))(App);\nexport default () => (\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <AppContainer />\n    </PersistGate>\n  </Provider>\n);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}